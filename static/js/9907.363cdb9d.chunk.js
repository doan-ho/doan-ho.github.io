/*! For license information please see 9907.363cdb9d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkarcgis_web=self.webpackChunkarcgis_web||[]).push([[9907],{59907:(e,t,i)=>{i.r(t),i.d(t,{CalciteRating:()=>b,defineCustomElement:()=>f});var a=i(51554),s=i(85955),n=i(14387),l=i(13160),o=i(74310),r=i(47242),c=i(46895),h=i(52655),d=i(92358),u=i(1579),v=i(57601);const g=e=>{let{full:t,scale:i,partial:s}=e;return(0,a.h)("calcite-icon",{class:s?void 0:"icon",icon:t?"star-f":"star",scale:i})},p=(0,a.GH)(class extends a.mv{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteRatingChange=(0,a.yM)(this,"calciteRatingChange",6),this.handleRatingPointerOver=()=>{this.isKeyboardInteraction=!1},this.handleRatingPointerOut=()=>{this.isKeyboardInteraction=!0,this.hoverValue=null},this.handleHostKeyDown=()=>{this.isKeyboardInteraction=!0},this.handleLabelKeyDown=e=>{const t=this.getValueFromLabelEvent(e),i=e.key,a=" "==i?void 0:Number(i);if(this.emit=!0,isNaN(a))switch(i){case"Enter":case" ":this.value=this.required||this.value!==t?t:0;break;case"ArrowLeft":this.value=this.getPreviousRatingValue(t),this.updateFocus(),e.preventDefault();break;case"ArrowRight":this.value=this.getNextRatingValue(t),this.updateFocus(),e.preventDefault();break;case"Tab":this.hoverValue=null}else(!this.required&&a>=0&&a<=this.max||this.required&&a>0&&a<=this.max)&&(this.value=a),this.updateFocus()},this.handleInputChange=e=>{if(!0===this.isKeyboardInteraction){const t=Number(e.target.value);this.hoverValue=t,this.value=t}},this.handleLabelPointerOver=e=>{this.hoverValue=this.getValueFromLabelEvent(e)},this.handleLabelPointerDown=e=>{const t=e.currentTarget,i=this.getValueFromLabelEvent(e);this.hoverValue=i,this.emit=!0,this.value=this.required||this.value!==i?i:0,t.focus()},this.handleLabelClick=e=>{e.preventDefault()},this.handleLabelFocus=e=>{const t=this.getValueFromLabelEvent(e);this.hoverValue=t},this.setLabelEl=e=>{this.labelElements.push(e)},this.emit=!1,this.guid="calcite-ratings-".concat((0,n.g)()),this.isKeyboardInteraction=!0,this.labelElements=[],this.max=5,this.average=void 0,this.count=void 0,this.disabled=!1,this.form=void 0,this.messages=void 0,this.messageOverrides=void 0,this.name=void 0,this.readOnly=!1,this.required=!1,this.scale="m",this.showChip=!1,this.value=0,this.effectiveLocale="",this.defaultMessages=void 0,this.hoverValue=void 0}onMessagesChange(){}handleValueUpdate(e){this.hoverValue=e,this.emit&&this.calciteRatingChange.emit(),this.emit=!1}effectiveLocaleChange(){(0,h.u)(this,this.effectiveLocale)}connectedCallback(){(0,l.c)(this),(0,c.c)(this),(0,h.c)(this),(0,o.c)(this),(0,s.c)(this)}async componentWillLoad(){await(0,h.s)(this),(0,r.a)(this)}componentWillRender(){this.starsMap=Array.from({length:this.max},((e,t)=>{const i=t+1,a=!this.hoverValue&&this.average&&!this.value&&i<=this.average,s=i===this.value,n=this.average&&this.average+1-i,l=i<=this.hoverValue;return{average:a,checked:s,fraction:n,hovered:l,id:"".concat(this.guid,"-").concat(i),partial:!this.hoverValue&&!this.value&&!l&&n>0&&n<1,selected:this.value>=i,value:i,tabIndex:this.getTabIndex(i)}}))}componentDidLoad(){(0,r.s)(this)}disconnectedCallback(){(0,l.d)(this),(0,c.d)(this),(0,h.d)(this),(0,o.d)(this),(0,s.d)(this)}componentDidRender(){(0,l.u)(this)}render(){var e,t;return(0,a.h)(a.AA,{onKeyDown:this.handleHostKeyDown,onPointerOut:this.handleRatingPointerOut,onPointerOver:this.handleRatingPointerOver},(0,a.h)("span",{class:"wrapper"},(0,a.h)("fieldset",{class:"fieldset",disabled:this.disabled},(0,a.h)("legend",{class:"visually-hidden"},this.messages.rating),this.starsMap.map((e=>{let{average:t,checked:i,fraction:s,hovered:n,id:l,partial:o,selected:r,value:c,tabIndex:h}=e;return(0,a.h)("label",{class:{star:!0,selected:r,hovered:n,average:t,partial:o},"data-value":c,htmlFor:l,onClick:this.handleLabelClick,onFocus:this.handleLabelFocus,onKeyDown:this.handleLabelKeyDown,onPointerDown:this.handleLabelPointerDown,onPointerOver:this.handleLabelPointerOver,tabIndex:h,ref:this.setLabelEl},(0,a.h)("input",{checked:i,class:"visually-hidden",disabled:this.disabled||this.readOnly,id:l,name:this.guid,onChange:this.handleInputChange,tabIndex:-1,type:"radio",value:c}),(0,a.h)(g,{full:r||t,scale:this.scale}),o&&(0,a.h)("div",{class:"fraction",style:{width:"".concat(100*s,"%")}},(0,a.h)(g,{full:!0,partial:!0,scale:this.scale})),(0,a.h)("span",{class:"visually-hidden"},this.messages.stars.replace("{num}","".concat(c))))})),(this.count||this.average)&&this.showChip?(0,a.h)("calcite-chip",{scale:this.scale,value:null===(e=this.count)||void 0===e?void 0:e.toString()},!!this.average&&(0,a.h)("span",{class:"number--average"},this.average.toString()),!!this.count&&(0,a.h)("span",{class:"number--count"},"(",null===(t=this.count)||void 0===t?void 0:t.toString(),")")):null),(0,a.h)(s.H,{component:this})))}onLabelClick(){this.setFocus()}updateFocus(){this.hoverValue=this.value,this.labelElements[this.value-1].focus()}getTabIndex(e){return this.readOnly||this.value!==e&&(this.value||1!==e)?-1:0}getValueFromLabelEvent(e){const t=e.currentTarget;return Number(t.getAttribute("data-value"))}getNextRatingValue(e){return 5===e?1:e+1}getPreviousRatingValue(e){return 1===e?5:e-1}async setFocus(){await(0,r.c)(this),(0,d.f)(this.el)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],value:["handleValueUpdate"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([read-only]) *,:host([disabled]) *,:host([read-only]) ::slotted(*),:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:flex;align-items:center;inline-size:-moz-fit-content;inline-size:fit-content}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){block-size:1.5rem;--calcite-rating-spacing-unit:0.25rem}:host([scale=m]){block-size:2rem;--calcite-rating-spacing-unit:0.5rem}:host([scale=l]){block-size:2.75rem;--calcite-rating-spacing-unit:0.75rem}.fieldset{margin:0;display:flex;border-width:0;padding:0;align-items:center;gap:var(--calcite-rating-spacing-unit)}.wrapper{display:inline-block}.star{transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;position:relative;display:flex;flex-direction:column;cursor:pointer;color:var(--calcite-ui-border-input)}.star:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\n            2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-ui-focus-offset-invert),\n                1\n              )\n            )\n          )}.average,.fraction{color:var(--calcite-ui-warning)}.hovered,.selected{color:var(--calcite-ui-brand)}.fraction{transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;position:absolute;pointer-events:none;inset-block-start:0;overflow:hidden;inset-inline-start:0}calcite-chip{pointer-events:none;cursor:default}.number--average{font-weight:bold}.number--count{color:var(--calcite-ui-text-2);font-style:italic}.number--count:not(:first-child){margin-inline-start:var(--calcite-rating-spacing-unit)}.visually-hidden{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([hidden]){display:none}[hidden]{display:none}"}},[1,"calcite-rating",{average:[514],count:[514],disabled:[516],form:[513],messages:[1040],messageOverrides:[1040],name:[513],readOnly:[516,"read-only"],required:[516],scale:[513],showChip:[516,"show-chip"],value:[1538],effectiveLocale:[32],defaultMessages:[32],hoverValue:[32],setFocus:[64]}]);function m(){if("undefined"===typeof customElements)return;["calcite-rating","calcite-chip","calcite-icon"].forEach((e=>{switch(e){case"calcite-rating":customElements.get(e)||customElements.define(e,p);break;case"calcite-chip":customElements.get(e)||(0,u.d)();break;case"calcite-icon":customElements.get(e)||(0,v.d)()}}))}m();const b=p,f=m}}]);
//# sourceMappingURL=9907.363cdb9d.chunk.js.map