{"version":3,"file":"static/js/4134.f193b66b.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/workers/WorkerHandle.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/tileUtils.js","../node_modules/@arcgis/core/views/2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileDescriptor3D.js","../node_modules/@arcgis/core/views/3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js","../node_modules/@arcgis/core/views/support/TileTreeDebugger.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/WorkerTileTreeDebugger.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorkerHandle.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTilesSimple.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/FeatureServiceSnappingSource.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/queryEngineUtils.js","../node_modules/@arcgis/core/views/support/layerViewUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../arrayUtils.js\";import{makeHandle as t}from\"../handleUtils.js\";import s from\"../Logger.js\";import{throwIfAborted as r}from\"../promiseUtils.js\";import{open as i}from\"./workers.js\";class h{constructor(e,t,r,h,o={}){this._mainMethod=t,this._transferLists=r,this._listeners=[],this._promise=i(e,{...o,schedule:h}).then((e=>{if(void 0===this._thread){this._thread=e,this._promise=null,o.hasInitialize&&this.broadcast({},\"initialize\");for(const e of this._listeners)this._connectListener(e)}else e.close()})),this._promise.catch((t=>s.getLogger(\"esri.core.workers.WorkerHandle\").error(`Failed to initialize ${e} worker: ${t}`)))}on(s,r){const i={removed:!1,eventName:s,callback:r,threadHandle:null};return this._listeners.push(i),this._connectListener(i),t((()=>{i.removed=!0,e(this._listeners,i),this._thread&&null!=i.threadHandle&&i.threadHandle.remove()}))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null,this._listeners.length=0,this._transferLists={}}invoke(e,t){return this.invokeMethod(this._mainMethod,e,t)}invokeMethod(e,t,s){if(this._thread){const r=this._transferLists[e],i=r?r(t):[];return this._thread.invoke(e,t,{transferList:i,signal:s})}return this._promise?this._promise.then((()=>(r(s),this.invokeMethod(e,t,s)))):Promise.reject(null)}broadcast(e,t){return this._thread?Promise.all(this._thread.broadcast(t,e)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(e,t))):Promise.reject()}get promise(){return this._promise}_connectListener(e){this._thread&&this._thread.on(e.eventName,e.callback).then((t=>{e.removed||(e.threadHandle=t)}))}}export{h as WorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../../sketch/constraints.js\";import{FeatureSnappingCandidate as n}from\"./FeatureSnappingCandidate.js\";import{PointSnappingHint as i}from\"../hints/PointSnappingHint.js\";class r extends n{constructor(n){super({...n,constraint:new t(n.targetPoint)})}get hints(){return[new i(this.targetPoint,this.isDraped,this.domain)]}}export{r as VertexSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{s}from\"../../../../../chunks/vec3.js\";import{c as n}from\"../../../../../chunks/vec4f64.js\";import{a as o,g as r,h as t}from\"../../../../../chunks/boundedPlane.js\";function c(n,o){return r(o.extent,e),t(e,s(a,n.x,n.y,0))}const e=o(),a=n();export{c as distanceToTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import t from\"../../../../../../core/Accessor.js\";import{watch as r,sync as i}from\"../../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../../core/arrayUtils.js\";import\"../../../../../../core/has.js\";import{subclass as s}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{TileKey as l}from\"../../../../../../layers/support/TileKey.js\";import{distanceToTile as n}from\"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";import{scaleBoundsPredicate as a}from\"../../../../../support/layerViewUtils.js\";let p=class extends t{get tiles(){const e=this.tilesCoveringView,t=null!=this.pointOfInterest?this.pointOfInterest:this.view.center;return e.sort(((e,r)=>n(t,e)-n(t,r))),e}_scaleEnabled(){return a(this.view.scale,this.layer.minScale||0,this.layer.maxScale||0)}get tilesCoveringView(){if(!this.view.ready||!this.view.featuresTilingScheme||!this.view.state||null==this.tileInfo)return[];if(!this._scaleEnabled)return[];const{spans:e,lodInfo:t}=this.view.featuresTilingScheme.getTileCoverage(this.view.state,0),{level:r}=t,i=[];for(const{row:o,colFrom:s,colTo:n}of e)for(let e=s;e<=n;e++){const s=t.normalizeCol(e),n=new l(null,r,o,s);this.tileInfo.updateTileInfo(n),i.push(n)}return i}get tileInfo(){return this.view.featuresTilingScheme?.tileInfo??null}get tileSize(){return null!=this.tileInfo?this.tileInfo.size[0]:256}constructor(e){super(e),this.pointOfInterest=null}initialize(){this.addHandles(r((()=>this.view?.state?.viewpoint),(()=>this.notifyChange(\"tilesCoveringView\")),i))}};e([o({readOnly:!0})],p.prototype,\"tiles\",null),e([o({readOnly:!0})],p.prototype,\"_scaleEnabled\",null),e([o({readOnly:!0})],p.prototype,\"tilesCoveringView\",null),e([o({readOnly:!0})],p.prototype,\"tileInfo\",null),e([o({readOnly:!0})],p.prototype,\"tileSize\",null),e([o({constructOnly:!0})],p.prototype,\"view\",void 0),e([o({constructOnly:!0})],p.prototype,\"layer\",void 0),e([o()],p.prototype,\"pointOfInterest\",void 0),p=e([s(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D\")],p);export{p as FeatureServiceTiles2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{create as i,copy as e}from\"../../../../geometry/support/aaBoundingRect.js\";class t{constructor(e,t,h,r=null){this.lij=[0,0,0],this.extent=i(),this.resolution=0,this.loadPriority=0,this.measures={visibility:s.VISIBLE_ON_SURFACE,screenRect:i(),distance:0,shouldSplit:!1},this.used=!1,r&&this.acquire(e,t,h,r)}acquire(i,e,s,h){this.tilingScheme=h,this.id=t.id(i,e,s),this.lij[0]=i,this.lij[1]=e,this.lij[2]=s,h.getExtent(i,e,s,this.extent),this.resolution=h.resolutionAtLevel(i)}release(){this.tilingScheme=null}getChildren(i){const e=this.lij[0]+1,s=2*this.lij[1],h=2*this.lij[2];return i?(i[0].acquire(e,s,h,this.tilingScheme),i[1].acquire(e,s+1,h,this.tilingScheme),i[2].acquire(e,s,h+1,this.tilingScheme),i[3].acquire(e,s+1,h+1,this.tilingScheme),i):[new t(e,s,h,this.tilingScheme),new t(e,s+1,h,this.tilingScheme),new t(e,s,h+1,this.tilingScheme),new t(e,s+1,h+1,this.tilingScheme)]}copyMeasurementsFrom(i){this.measures.visibility=i.measures.visibility,this.measures.shouldSplit=i.measures.shouldSplit,this.measures.distance=i.measures.distance,e(i.measures.screenRect,this.measures.screenRect)}static id(i,e,t){return`${i}/${e}/${t}`}}var s;!function(i){i[i.INVISIBLE=0]=\"INVISIBLE\",i[i.VISIBLE_WHEN_EXTENDED=1]=\"VISIBLE_WHEN_EXTENDED\",i[i.VISIBLE_ON_SURFACE=2]=\"VISIBLE_ON_SURFACE\"}(s||(s={}));export{t as FeatureTileDescriptor3D,s as Visibility};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import t from\"../../../../../../core/Accessor.js\";import{watch as r,initial as i}from\"../../../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../../core/arrayUtils.js\";import\"../../../../../../core/has.js\";import{subclass as o}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{TileKey as n}from\"../../../../../../layers/support/TileKey.js\";import{Visibility as l}from\"../../../../layers/support/FeatureTileDescriptor3D.js\";import{distanceToTile as c}from\"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";let p=class extends t{get tiles(){const e=this.tilesCoveringView,t=this._effectivePointOfInterest;if(null!=t){const r=e.map((e=>c(t,e)));for(let i=1;i<r.length;i++)if(r[i-1]>r[i])return e.sort(((e,r)=>c(t,e)-c(t,r))),e.slice()}return e}get tilesCoveringView(){return this._filterTiles(this.view.featureTiles?.tiles?.toArray()).map(u)}get tileInfo(){return this.view.featureTiles?.tilingScheme.toTileInfo()??null}get tileSize(){return this.view.featureTiles?.tileSize??256}get _effectivePointOfInterest(){const e=this.pointOfInterest;return null!=e?e:this.view.pointsOfInterest?.focus.location}constructor(e){super(e),this.pointOfInterest=null}initialize(){this.addHandles(r((()=>this.view.featureTiles),(e=>{this.removeHandles(f),e&&this.addHandles(e.addClient(),f)}),i))}_filterTiles(e){if(null==e)return[];return e.filter((e=>Math.abs(e.measures.screenRect[3]-e.measures.screenRect[1])>a&&e.measures.visibility===l.VISIBLE_ON_SURFACE))}};function u({lij:[e,t,r],extent:i}){return new n(`${e}/${t}/${r}`,e,t,r,i)}e([s({readOnly:!0})],p.prototype,\"tiles\",null),e([s({readOnly:!0})],p.prototype,\"tilesCoveringView\",null),e([s({readOnly:!0})],p.prototype,\"tileInfo\",null),e([s({readOnly:!0})],p.prototype,\"tileSize\",null),e([s({constructOnly:!0})],p.prototype,\"view\",void 0),e([s()],p.prototype,\"pointOfInterest\",void 0),e([s()],p.prototype,\"_effectivePointOfInterest\",null),p=e([o(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles3D\")],p);const a=50,f=\"feature-tiles\";export{p as FeatureServiceTiles3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import s from\"../../Color.js\";import o from\"../../Graphic.js\";import\"../../symbols.js\";import t from\"../../core/Accessor.js\";import l from\"../../core/Collection.js\";import{lerp as r}from\"../../core/mathUtils.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"../../symbols/PointSymbol3D.js\";import m from\"../../symbols/SimpleFillSymbol.js\";import h from\"../../symbols/TextSymbol.js\";import p from\"../../symbols/TextSymbol3DLayer.js\";import c from\"../../symbols/support/Symbol3DVerticalOffset.js\";import y from\"../../symbols/callouts/LineCallout3D.js\";import b from\"../../symbols/callouts/LineCallout3DBorder.js\";const u=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];let d=class extends t{constructor(e){super(e),this.updating=!1,this.enablePolygons=!0,this.enableLabels=!0,this._polygons=new Map,this._labels=new Map,this._enabled=!0}initialize(){this._symbols=u.map((e=>new m({color:[e[0],e[1],e[2],.6],outline:{color:\"black\",width:1}}))),this.update()}destroy(){this._enabled=!1,this.clear()}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&(this._enabled=e,this.update())}update(){if(!this._enabled)return void this.clear();const e=e=>{if(null!=e.label)return e.label;let s=e.lij.toString();return null!=e.loadPriority&&(s+=` (${e.loadPriority})`),s},t=this.getTiles(),i=new Array,a=new Set((this._labels.size,this._labels.keys()));t.forEach(((m,u)=>{const d=m.lij.toString();a.delete(d);const g=m.lij[0],f=m.geometry;if(this.enablePolygons&&!this._polygons.has(d)){const e=new o({geometry:f,symbol:this._symbols[g%this._symbols.length]});this._polygons.set(d,e),i.push(e)}if(this.enableLabels){const a=e(m),g=u/(t.length-1),w=r(0,200,g),_=r(20,6,g)/.75,j=null!=m.loadPriority&&m.loadPriority>=t.length,v=new s([w,j?0:w,j?0:w]),S=\"3d\"===this.view.type?()=>new n({verticalOffset:new c({screenLength:40/.75}),callout:new y({color:new s(\"white\"),border:new b({color:new s(\"black\")})}),symbolLayers:new l([new p({text:a,halo:{color:\"white\",size:1/.75},material:{color:v},size:_})])}):()=>new h({text:a,haloColor:\"white\",haloSize:1/.75,color:v,size:_}),x=this._labels.get(d);if(x){const e=S();null!=x.symbol&&JSON.stringify(e)===JSON.stringify(x.symbol)||(x.symbol=e)}else{const e=new o({geometry:f.extent.center,symbol:S()});this._labels.set(d,e),i.push(e)}}}));const m=new Array;a.forEach((e=>{const s=this._polygons.get(e);null!=s&&(m.push(s),this._polygons.delete(e));const o=this._labels.get(e);null!=o&&(m.push(o),this._labels.delete(e))})),this.view.graphics.removeMany(m),this.view.graphics.addMany(i)}clear(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}};e([i({constructOnly:!0})],d.prototype,\"view\",void 0),e([i({readOnly:!0})],d.prototype,\"updating\",void 0),e([i()],d.prototype,\"enabled\",null),d=e([a(\"esri.views.support.TileTreeDebugger\")],d);export{d as TileTreeDebugger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../../core/handleUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../../geometry/Polygon.js\";import{toExtent as a}from\"../../../../geometry/support/aaBoundingRect.js\";import{TileTreeDebugger as i}from\"../../../support/TileTreeDebugger.js\";let n=class extends i{constructor(e){super(e)}initialize(){const e=setInterval((()=>this._fetchDebugInfo()),2e3);this.addHandles(t((()=>clearInterval(e))))}getTiles(){if(!this._debugInfo)return[];const e=new Map,t=new Map;this._debugInfo.storedTiles.forEach((t=>{e.set(t.data.id,t.featureCount)})),this._debugInfo.pendingTiles.forEach((r=>{e.set(r.data.id,r.featureCount),t.set(r.data.id,r.state)}));const r=r=>{const o=t.get(r),s=e.get(r)??\"?\";return o?`${o}:${s}\\n${r}`:`store:${s}\\n${r}`},o=new Map;return this._debugInfo.storedTiles.forEach((e=>{o.set(e.data.id,e.data)})),this._debugInfo.pendingTiles.forEach((e=>{o.set(e.data.id,e.data)})),Array.from(o.values()).map((e=>({lij:[e.level,e.row,e.col],geometry:s.fromExtent(a(e.extent,this.view.spatialReference)),label:r(e.id)})))}_fetchDebugInfo(){this.handle.getDebugInfo(null).then((e=>{this._debugInfo=e,this.update()}))}};e([r({constructOnly:!0})],n.prototype,\"handle\",void 0),n=e([o(\"esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger\")],n);export{n as WorkerTileTreeDebugger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{isSome as i}from\"../../../../../core/arrayUtils.js\";import{abortMaybe as o}from\"../../../../../core/maybe.js\";import{debounce as n,whenOrAbort as a}from\"../../../../../core/promiseUtils.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/has.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as d}from\"../../../../../core/support/UpdatingHandles.js\";import{WorkerHandle as l}from\"../../../../../core/workers/WorkerHandle.js\";import{featureGeometryTypeKebabDictionary as p}from\"../../../../../geometry/support/typeUtils.js\";import{makeDehydratedPoint as u}from\"../../../../../layers/graphics/dehydratedPoint.js\";let h=class extends t{get updating(){return this._updatingHandles.updating||this._workerHandleUpdating}constructor(e){super(e),this._updatingHandles=new d,this._suspendController=null,this.schedule=null,this.hasZ=!1,this.elevationAlignPointsInFeatures=async e=>{const t=[];for(const{points:i}of e.pointsInFeatures)for(const{z:e}of i)t.push(e);return{elevations:t,drapedObjectIds:new Set,failedObjectIds:new Set}},this.queryForSymbologySnapping=async()=>({candidates:[],sourceCandidateIndices:[]}),this.availability=0,this._workerHandleUpdating=!0,this._editId=0,this.updateOutFields=n((async(e,t)=>{await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(\"updateOutFields\",[...e],t)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}))}destroy(){this._suspendController=o(this._suspendController),this._workerHandle.destroy(),this._updatingHandles.destroy()}initialize(){this._workerHandle=new c(this.schedule,{alignElevation:async(e,{signal:t})=>({result:await this.elevationAlignPointsInFeatures(e.query,t)}),getSymbologyCandidates:async(e,{signal:t})=>({result:await this.queryForSymbologySnapping(e,t)})}),this.addHandles([this._workerHandle.on(\"notify-updating\",(({updating:e})=>this._workerHandleUpdating=e)),this._workerHandle.on(\"notify-availability\",(({availability:e})=>this._set(\"availability\",e)))])}async setup(e,t){const i=this._serviceInfoFromLayer(e.layer);if(null==i)return;const o={configuration:this._convertConfiguration(e.configuration),serviceInfo:i,spatialReference:e.spatialReference.toJSON(),hasZ:this.hasZ,elevationInfo:e.layer.elevationInfo?.toJSON()};await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(\"setup\",o,t)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}async configure(e,t){const i=this._convertConfiguration(e);await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(\"configure\",i,t)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}async refresh(e){await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(\"refresh\",{},e)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod(\"whenNotUpdating\",{},e))}async fetchCandidates(e,t){const{point:i,filter:o,coordinateHelper:n}=e,a={...e,point:u(i[0],i[1],i[2],n.spatialReference.toJSON()),filter:o?.toJSON()};return this._workerHandle.invoke(a,t)}async updateTiles(e,t){const i={tiles:e.tiles,tileInfo:null!=e.tileInfo?e.tileInfo.toJSON():null,tileSize:e.tileSize};await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(\"updateTiles\",i,t)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}async applyEdits(e,t){const o=this._editId++,n={id:o};await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(\"beginApplyEdits\",n,t));const r=await this._updatingHandles.addPromise(a(e.result,t)),s={id:o,edits:{addedFeatures:r.addedFeatures?.map((({objectId:e})=>e)).filter(i)??[],deletedFeatures:r.deletedFeatures?.map((({objectId:e,globalId:t})=>({objectId:e,globalId:t})))??[],updatedFeatures:r.updatedFeatures?.map((({objectId:e})=>e)).filter(i)??[]}};await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(\"endApplyEdits\",s,t)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}getDebugInfo(e){return this._workerHandle.invokeMethod(\"getDebugInfo\",{},e)}async notifyElevationSourceChange(){await this._workerHandle.invokeMethod(\"notifyElevationSourceChange\",{})}async notifySymbologyChange(){await this._workerHandle.invokeMethod(\"notifySymbologyChange\",{})}async setSymbologySnappingSupported(e){await this._workerHandle.invokeMethod(\"setSymbologySnappingSupported\",e)}async setSuspended(e){this._suspendController?.abort(),this._suspendController=new AbortController,await this._workerHandle.invokeMethod(\"setSuspended\",e,this._suspendController.signal)}_convertConfiguration(e){return{filter:null!=e.filter?e.filter.toJSON():null,customParameters:e.customParameters,viewType:e.viewType}}_serviceInfoFromLayer(e){return\"multipatch\"===e.geometryType||\"mesh\"===e.geometryType?null:{url:e.parsedUrl?.path??\"\",fieldsIndex:e.fieldsIndex.toJSON(),geometryType:p.toJSON(e.geometryType),capabilities:e.capabilities,objectIdField:e.objectIdField,globalIdField:e.globalIdField,spatialReference:e.spatialReference.toJSON(),timeInfo:e.timeInfo?.toJSON()}}};e([r({constructOnly:!0})],h.prototype,\"schedule\",void 0),e([r({constructOnly:!0})],h.prototype,\"hasZ\",void 0),e([r({constructOnly:!0})],h.prototype,\"elevationAlignPointsInFeatures\",void 0),e([r({constructOnly:!0})],h.prototype,\"queryForSymbologySnapping\",void 0),e([r({readOnly:!0})],h.prototype,\"updating\",null),e([r({readOnly:!0})],h.prototype,\"availability\",void 0),e([r()],h.prototype,\"_workerHandleUpdating\",void 0),h=e([s(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorkerHandle\")],h);class c extends l{constructor(e,t){super(\"FeatureServiceSnappingSourceWorker\",\"fetchCandidates\",{},e,{strategy:\"dedicated\",client:t})}}export{h as FeatureServiceSnappingSourceWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import r from\"../../../../../core/Accessor.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../../../geometry/Point.js\";import{fromValues as i}from\"../../../../../geometry/support/aaBoundingRect.js\";import p from\"../../../../../layers/support/LOD.js\";import l from\"../../../../../layers/support/TileInfo.js\";import{TileKey as n}from\"../../../../../layers/support/TileKey.js\";let a=class extends r{get tiles(){return[new n(\"0/0/0\",0,0,0,i(-1e8,-1e8,1e8,1e8))]}get tileInfo(){return new l({origin:new s({x:-1e8,y:1e8,spatialReference:this.layer.spatialReference}),size:[512,512],lods:[new p({level:0,scale:1,resolution:390625})],spatialReference:this.layer.spatialReference})}get tileSize(){return this.tileInfo.size[0]}constructor(e){super(e),this.pointOfInterest=null}};e([t({readOnly:!0})],a.prototype,\"tiles\",null),e([t({readOnly:!0})],a.prototype,\"tileInfo\",null),e([t({readOnly:!0})],a.prototype,\"tileSize\",null),e([t({constructOnly:!0})],a.prototype,\"layer\",void 0),e([t()],a.prototype,\"pointOfInterest\",void 0),a=e([o(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTilesSimple\")],a);export{a as FeatureServiceTilesSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{createTask as r}from\"../../../../core/asyncUtils.js\";import{destroyHandle as i}from\"../../../../core/handleUtils.js\";import{memoize as s}from\"../../../../core/memoize.js\";import{throwIfAborted as o,ignoreAbortErrors as a}from\"../../../../core/promiseUtils.js\";import{watch as n,initial as l,on as u,sync as d,syncAndInitial as p}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as y}from\"../../../../core/support/UpdatingHandles.js\";import{isSubtypeGroupLayer as f}from\"../../../../layers/support/layerUtils.js\";import{elevationContextAffectsAlignment as m}from\"../../../../support/elevationInfoUtils.js\";import{FeatureServiceTiles2D as _}from\"../../../2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js\";import{FeatureServiceTiles3D as g}from\"../../../3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js\";import{isUtilityNetworkWebMap as w}from\"../snappingUtils.js\";import{convertSnappingCandidate as S,makeGetGroundElevation as v}from\"./queryEngineUtils.js\";import{WorkerTileTreeDebugger as b}from\"./WorkerTileTreeDebugger.js\";import{FeatureServiceSnappingSourceWorkerHandle as I}from\"./featureServiceSource/FeatureServiceSnappingSourceWorkerHandle.js\";import{FeatureServiceTilesSimple as H}from\"./featureServiceSource/FeatureServiceTilesSimple.js\";import j from\"../../../support/debugFlags.js\";let F=class extends t{get _updateTilesParameters(){return{tiles:this._tilesOfInterest.tiles,tileInfo:this._tilesOfInterest.tileInfo,tileSize:this._tilesOfInterest.tileSize}}get _layerView(){return this.view?.allLayerViews.find((e=>e.layer===this._layer))}get _isSuspended(){if(f(this._layer)){if(!this._layer.sublayers.find((e=>e.visible)))return!0}return!!this.view&&(!1!==this._layerView?.suspended||!this.layerSource.enabled)}get updating(){return this._workerHandle?.updating||this._updatingHandles.updating}get _outFields(){const{view:e,_layerView:t,layerSource:r}=this,{layer:i}=r,{fieldsIndex:s,timeInfo:o,floorInfo:a,subtypeField:n}=i,l=t&&\"filter\"in t?t.filter:null,u=l?.where&&\"1=1\"!==l.where?this._getOrLoadWhereFields(l.where,s):[];if(l?.timeExtent&&o){const{startField:e,endField:t}=o,r=s.get(e)?.name??e,i=s.get(t)?.name??t;r&&u.push(r),i&&u.push(i)}if(e?.map&&w(e.map)&&e.map.utilityNetworks?.find((e=>e.isUtilityLayer(i)))){const e=i.fieldsIndex.get(\"assetGroup\")?.name,t=i.fieldsIndex.get(\"assetType\")?.name;e&&t&&(u.push(e),u.push(t))}if(i&&a?.floorField&&e?.floors?.length){const e=s.get(a.floorField)?.name??a.floorField;e&&u.push(e)}if(n){const e=s.get(n)?.name??n;e&&u.push(e)}return new Set(u)}get configuration(){const{view:e}=this,t=null!=e?e.type:\"2d\";return{filter:this._layer.createQuery(),customParameters:this._layer.customParameters,viewType:t}}get availability(){return this._workerHandle?.availability??0}get _layer(){return this.layerSource.layer}constructor(e){super(e),this._updatingHandles=new y,this._workerHandle=null,this._debug=null,this._memoizedMakeGetGroundElevation=s(v)}initialize(){let e;const t=this.view;if(null!=t)switch(t.type){case\"2d\":this._tilesOfInterest=new _({view:t,layer:this._layer}),e=this._workerHandle=new I;break;case\"3d\":{const{resourceController:r}=t,i=this._layer;this._tilesOfInterest=new g({view:t}),e=this._workerHandle=new I({schedule:e=>r.immediate.schedule(e),hasZ:this._layer.hasZ&&(this._layer.returnZ??!0),elevationAlignPointsInFeatures:async(e,r)=>{const s=await t.whenLayerView(i);return o(r),s.elevationAlignPointsInFeatures(e,r)},queryForSymbologySnapping:async(e,r)=>{const s=await t.whenLayerView(i);return o(r),s.queryForSymbologySnapping(e,r)}}),this.addHandles([t.elevationProvider.on(\"elevation-change\",(({context:t})=>{const{elevationInfo:r}=i;m(t,r)&&a(e.notifyElevationSourceChange())})),n((()=>i.elevationInfo),(()=>a(e.notifyElevationSourceChange())),l),n((()=>this._layerView?.processor?.renderer),(()=>a(e.notifySymbologyChange())),l),n((()=>this._layerView?.symbologySnappingSupported??!1),(t=>a(e.setSymbologySnappingSupported(t))),l),u((()=>this._layerView?.layer),[\"edits\",\"apply-edits\",\"graphic-update\"],(()=>e.notifySymbologyChange()))]);break}}else this._tilesOfInterest=new H({layer:this._layer}),e=this._workerHandle=new I;this.addHandles([i(e)]),a(e.setup({layer:this._layer,spatialReference:this.spatialReference,configuration:this.configuration},null)),this._updatingHandles.add((()=>this._updateTilesParameters),(()=>a(e.updateTiles(this._updateTilesParameters,null))),l),this.addHandles([n((()=>this.configuration),(t=>a(e.configure(t,null))),d),n((()=>this._outFields),(t=>a(e.updateOutFields(t))),l),n((()=>this._isSuspended),(t=>a(e.setSuspended(t))),p)]),null!=t&&this.addHandles(n((()=>j.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES),(r=>{r&&!this._debug?(this._debug=new b({view:t,handle:e}),this.addHandles(i(this._debug),\"debug\")):!r&&this._debug&&this.removeHandles(\"debug\")}),l)),this.addHandles(this.layerSource.layer.on(\"apply-edits\",(t=>{a(e.applyEdits(t,null))})))}destroy(){this._updatingHandles.destroy()}refresh(){this._workerHandle?.refresh(null)}async fetchCandidates(e,t){const{coordinateHelper:r,point:i}=e;this._tilesOfInterest.pointOfInterest=r.arrayToPoint(i);const s=this._memoizedMakeGetGroundElevation(this.view,r.spatialReference);return(await this._workerHandle.fetchCandidates({...e},t)).candidates.map((e=>S(e,s)))}getDebugInfo(e){return this._workerHandle.getDebugInfo(e)}_getOrLoadWhereFields(e,t){const{_whereModule:i}=this;if(!this._loadWhereModuleTask&&!i){const e=r((async()=>{const e=await import(\"../../../../core/sql/WhereClause.js\");return this._whereModule=e.WhereClause,this._whereModule}));return this._loadWhereModuleTask=e,this._updatingHandles.addPromise(e.promise),[]}if(!i)return[];try{return i.create(e,t).fieldNames}catch(s){return[]}}};e([h({constructOnly:!0})],F.prototype,\"spatialReference\",void 0),e([h({constructOnly:!0})],F.prototype,\"layerSource\",void 0),e([h({constructOnly:!0})],F.prototype,\"view\",void 0),e([h()],F.prototype,\"_tilesOfInterest\",void 0),e([h({readOnly:!0})],F.prototype,\"_updateTilesParameters\",null),e([h()],F.prototype,\"_layerView\",null),e([h()],F.prototype,\"_isSuspended\",null),e([h({readOnly:!0})],F.prototype,\"updating\",null),e([h()],F.prototype,\"_outFields\",null),e([h({readOnly:!0})],F.prototype,\"configuration\",null),e([h({readOnly:!0})],F.prototype,\"availability\",null),e([h()],F.prototype,\"_loadWhereModuleTask\",void 0),e([h()],F.prototype,\"_whereModule\",void 0),F=e([c(\"esri.views.interactive.snapping.featureSources.FeatureServiceSnappingSource\")],F);export{F as FeatureServiceSnappingSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../../sketch/normalizedPoint.js\";import{DrapedEdgeSnappingCandidate as t}from\"../candidates/DrapedEdgeSnappingCandidate.js\";import{EdgeSnappingCandidate as n}from\"../candidates/EdgeSnappingCandidate.js\";import{VertexSnappingCandidate as d}from\"../candidates/VertexSnappingCandidate.js\";function r({x:t,y:n,z:d}){return e(t,n,d??0)}function a(e,a){switch(e.type){case\"edge\":return e.draped?new t({edgeStart:r(e.start),edgeEnd:r(e.end),targetPoint:r(e.target),objectId:e.objectId,getGroundElevation:a}):new n({edgeStart:r(e.start),edgeEnd:r(e.end),targetPoint:r(e.target),objectId:e.objectId,isDraped:!1});case\"vertex\":return new d({targetPoint:r(e.target),objectId:e.objectId,isDraped:!1})}}function o(e,t){return null!=e&&\"3d\"===e.type?(n,d)=>e.elevationProvider.getElevation(n,d,0,t,\"ground\"):()=>null}export{a as convertSnappingCandidate,o as makeGetGroundElevation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nfunction n(n){return n&&\"function\"==typeof n.highlight}function e(n){return n&&\"function\"==typeof n.maskOccludee}function t(n,e,t){return null==n||n>t&&(0===e||n<e)}function u(n,e){return null!=n&&n>0||null!=e&&e>0}function c(n){const e=n.effectiveScaleRange;return{minScale:e?.minScale??0,maxScale:e?.maxScale??0}}function i(n){return null!=n&&\"object\"==typeof n&&\"createQuery\"in n&&\"queryFeatures\"in n&&\"layer\"in n&&\"view\"in n}export{c as extractSafeScaleBounds,n as highlightsSupported,u as isScaleRangeActive,i as isSelectableLayerView2D,e as occludeesSupported,t as scaleBoundsPredicate};\n"],"names":["h","constructor","e","t","r","o","arguments","length","undefined","this","_mainMethod","_transferLists","_listeners","_promise","i","schedule","then","_thread","hasInitialize","broadcast","_connectListener","close","catch","s","getLogger","error","concat","on","removed","eventName","callback","threadHandle","push","remove","destroy","invoke","invokeMethod","transferList","signal","Promise","reject","all","promise","n","super","constraint","targetPoint","hints","isDraped","domain","c","extent","a","x","y","p","tiles","tilesCoveringView","pointOfInterest","view","center","sort","_scaleEnabled","scale","layer","minScale","maxScale","ready","featuresTilingScheme","state","tileInfo","spans","lodInfo","getTileCoverage","level","row","colFrom","colTo","normalizeCol","l","updateTileInfo","_this$view$featuresTi","_this$view$featuresTi2","tileSize","size","initialize","addHandles","_this$view","viewpoint","notifyChange","readOnly","prototype","constructOnly","INVISIBLE","VISIBLE_WHEN_EXTENDED","VISIBLE_ON_SURFACE","_effectivePointOfInterest","map","slice","_this$view$featureTil","_filterTiles","featureTiles","toArray","u","_this$view$featureTil2","_this$view$featureTil3","tilingScheme","toTileInfo","_this$view$featureTil4","_this$view$featureTil5","_this$view$pointsOfIn","pointsOfInterest","focus","location","removeHandles","f","addClient","filter","Math","abs","measures","screenRect","visibility","_ref","lij","d","updating","enablePolygons","enableLabels","_polygons","Map","_labels","_enabled","_symbols","m","color","outline","width","update","clear","enabled","getTiles","Array","Set","keys","forEach","toString","delete","g","geometry","has","symbol","set","label","loadPriority","w","_","j","v","S","type","verticalOffset","screenLength","callout","border","b","symbolLayers","text","halo","material","haloColor","haloSize","get","JSON","stringify","graphics","removeMany","addMany","from","values","setInterval","_fetchDebugInfo","clearInterval","_debugInfo","storedTiles","data","id","featureCount","pendingTiles","_e$get","col","fromExtent","spatialReference","handle","getDebugInfo","_updatingHandles","_workerHandleUpdating","_suspendController","hasZ","elevationAlignPointsInFeatures","async","points","pointsInFeatures","z","elevations","drapedObjectIds","failedObjectIds","queryForSymbologySnapping","candidates","sourceCandidateIndices","availability","_editId","updateOutFields","addPromise","_workerHandle","alignElevation","result","query","getSymbologyCandidates","_ref2","_ref3","_ref4","_set","setup","_e$layer$elevationInf","_serviceInfoFromLayer","configuration","_convertConfiguration","serviceInfo","toJSON","elevationInfo","configure","refresh","fetchCandidates","point","coordinateHelper","updateTiles","applyEdits","_r$addedFeatures$map$","_r$addedFeatures","_r$deletedFeatures$ma","_r$deletedFeatures","_r$updatedFeatures$ma","_r$updatedFeatures","edits","addedFeatures","_ref5","objectId","deletedFeatures","_ref6","globalId","updatedFeatures","_ref7","notifyElevationSourceChange","notifySymbologyChange","setSymbologySnappingSupported","setSuspended","_this$_suspendControl","abort","AbortController","customParameters","viewType","_e$parsedUrl$path","_e$parsedUrl","_e$timeInfo","geometryType","url","parsedUrl","path","fieldsIndex","capabilities","objectIdField","globalIdField","timeInfo","strategy","client","origin","lods","resolution","F","_updateTilesParameters","_tilesOfInterest","_layerView","allLayerViews","find","_layer","_isSuspended","_this$_layerView","sublayers","visible","suspended","layerSource","_this$_workerHandle","_outFields","_e$map$utilityNetwork","_e$floors","floorInfo","subtypeField","where","_getOrLoadWhereFields","timeExtent","_s$get$name","_s$get","_s$get$name2","_s$get2","startField","endField","name","utilityNetworks","isUtilityLayer","_i$fieldsIndex$get","_i$fieldsIndex$get2","floorField","floors","_s$get$name3","_s$get3","_s$get$name4","_s$get4","createQuery","_this$_workerHandle$a","_this$_workerHandle2","_debug","_memoizedMakeGetGroundElevation","I","_this$_layer$returnZ","resourceController","immediate","returnZ","whenLayerView","elevationProvider","context","_this$_layerView2","processor","renderer","_this$_layerView$symb","_this$_layerView3","symbologySnappingSupported","_this$_layerView4","H","add","FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES","_this$_workerHandle3","arrayToPoint","_whereModule","_loadWhereModuleTask","WhereClause","create","fieldNames","draped","edgeStart","start","edgeEnd","end","target","getGroundElevation","getElevation","highlight"],"sourceRoot":""}