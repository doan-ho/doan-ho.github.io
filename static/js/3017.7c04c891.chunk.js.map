{"version":3,"file":"static/js/3017.7c04c891.chunk.js","mappings":"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","sources":["../node_modules/@esri/calcite-components/dist/components/calcite-headless.js","../node_modules/@esri/calcite-components/dist/components/combobox.js","../node_modules/@esri/calcite-components/dist/components/utils2.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v1.11.0\n */\n/**\n * Do not edit directly\n * Generated on Tue, 21 Nov 2023 22:52:13 GMT\n */\nconst CoreSizing15 = \"48px\";\nconst CoreBreakpointWidthDefaultXxs = \"320px\";\nconst CoreBreakpointWidthDefaultXs = \"476px\";\nconst CoreBreakpointWidthDefaultSm = \"768px\";\nconst CoreBreakpointWidthDefaultMd = \"1152px\";\nconst CoreBreakpointWidthDefaultLg = \"1440px\";\n\nexport { CoreSizing15 as C, CoreBreakpointWidthDefaultMd as a, CoreBreakpointWidthDefaultSm as b, CoreBreakpointWidthDefaultXs as c, CoreBreakpointWidthDefaultXxs as d, CoreBreakpointWidthDefaultLg as e };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v1.11.0\n */\nimport { h, proxyCustomElement, HTMLElement, createEvent, Host } from '@stencil/core/internal/client/index.js';\nimport { f as filter } from './filter2.js';\nimport { u as getElementWidth, v as getTextWidth, j as isPrimaryPointerButton, t as toAriaBoolean } from './dom.js';\nimport { d as defaultMenuPlacement, f as filterComputedPlacements, c as connectFloatingUI, r as reposition, a as disconnectFloatingUI, F as FloatingCSS } from './floating-ui.js';\nimport { s as submitForm, c as connectForm, a as afterConnectDefaultValueSet, d as disconnectForm, H as HiddenFormInputSlot } from './form.js';\nimport { g as guid } from './guid.js';\nimport { c as connectInteractive, u as updateHostInteraction, d as disconnectInteractive } from './interactive.js';\nimport { c as connectLabel, d as disconnectLabel, g as getLabelText } from './label2.js';\nimport { b as componentLoaded, c as componentFocusable, a as setUpLoadableComponent, s as setComponentLoaded } from './loadable.js';\nimport { c as connectLocalized, d as disconnectLocalized } from './locale.js';\nimport { c as createObserver } from './observers.js';\nimport { o as onToggleOpenCloseComponent } from './openCloseComponent.js';\nimport { c as connectMessages, s as setUpMessages, d as disconnectMessages, u as updateMessages } from './t9n.js';\nimport { i as isSingleLike, h as hasActiveChildren, C as CSS$1, b as ComboboxChildSelector, c as getItemAncestors, d as getItemChildren, e as ComboboxItem, f as ComboboxItemGroup } from './utils2.js';\nimport { g as getIconScale } from './component.js';\nimport { C as CoreSizing15 } from './calcite-headless.js';\nimport { d as defineCustomElement$2 } from './chip.js';\nimport { d as defineCustomElement$1 } from './icon.js';\nimport { d as debounce } from './debounce.js';\n\nconst CSS = {\n  button: \"x-button\",\n};\nfunction XButton({ disabled, key, label, onClick, ref, scale, }) {\n  return (h(\"button\", { \"aria-label\": label, class: CSS.button, disabled: disabled, key: key, onClick: onClick, tabIndex: -1, type: \"button\", \n    // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n    ref: ref },\n    h(\"calcite-icon\", { icon: \"x\", scale: getIconScale(scale) })));\n}\n\nconst comboboxCss = \":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]) .x-button{inline-size:1rem;block-size:1rem}:host([scale=m]) .x-button{inline-size:1.5rem;block-size:1.5rem}:host([scale=l]) .x-button{inline-size:2rem;block-size:2rem}.x-button{margin:0px;display:flex;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-width:2px;background-color:transparent;color:var(--calcite-ui-text-3);outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;border-radius:50%;border-color:transparent;background-color:var(--calcite-ui-foreground-2)}.x-button:active,.x-button:hover{color:var(--calcite-ui-text-1);background-color:var(--calcite-ui-foreground-3)}.x-button:active{border-style:solid;border-color:var(--calcite-ui-brand)}.x-button calcite-icon{color:inherit}:host([scale=s]){font-size:var(--calcite-font-size--2);--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-input-height:1rem;--calcite-internal-combobox-input-margin-block:calc(0.25rem - 1px)}:host([scale=s]) .x-button{margin-inline:0.5rem}:host([scale=m]){font-size:var(--calcite-font-size--1);--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-input-height:1rem;--calcite-internal-combobox-input-margin-block:calc(0.5rem - 1px)}:host([scale=m]) .x-button{margin-inline-end:0.75rem}:host([scale=l]){font-size:var(--calcite-font-size-0);--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-input-height:1.5rem;--calcite-internal-combobox-input-margin-block:calc(0.625rem - 1px)}:host([scale=l]) .x-button{margin-inline-end:1rem}.wrapper{display:flex;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1);outline-color:transparent;padding-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);padding-inline:var(--calcite-combobox-item-spacing-unit-l)}:host(:focus-within) .wrapper,.wrapper--active{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\\n            -2px *\\n            calc(\\n              1 -\\n              2 * clamp(\\n                0,\\n                var(--calcite-ui-focus-offset-invert),\\n                1\\n              )\\n            )\\n          )}.wrapper--single{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l);cursor:pointer;flex-wrap:nowrap}.grid-input{position:relative;display:flex;flex-grow:1;flex-wrap:wrap;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;gap:var(--calcite-combobox-item-spacing-unit-s)}.grid-input.selection-display-fit,.grid-input.selection-display-single{flex-wrap:nowrap;overflow:hidden}.input{flex-grow:1;appearance:none;text-overflow:ellipsis;border-style:none;background-color:transparent;padding:0px;font-family:inherit;color:var(--calcite-ui-text-1);font-size:inherit;block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height);inline-size:100%;margin-block-end:var(--calcite-combobox-item-spacing-unit-s);min-inline-size:4.8125rem}.input:focus{outline:2px solid transparent;outline-offset:2px}.input:placeholder-shown{text-overflow:ellipsis}.input--transparent{opacity:0}.input--single{padding:0px;margin-block:var(--calcite-internal-combobox-input-margin-block)}.wrapper--active .input-single{cursor:text}.input--hidden{pointer-events:none;inline-size:0px;min-inline-size:0px;opacity:0}.input--icon{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-s)}:host([scale=m]) .input--icon,:host([scale=l]) .input--icon{padding-inline:0.25rem}.input-wrap{display:flex;flex-grow:1;align-items:center}.input-wrap--single{flex:1 1 0%;overflow:hidden}.label{pointer-events:none;display:flex;max-inline-size:100%;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;font-weight:var(--calcite-font-weight-normal);block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height)}.label--icon{padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.icon-end,.icon-start{display:flex;cursor:pointer;align-items:center}.icon-end{flex:none}.floating-ui-container{--calcite-floating-ui-z-index:var(--calcite-app-z-index-dropdown);display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index);visibility:hidden}.floating-ui-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:var(--calcite-app-z-index);border-radius:0.25rem}.floating-ui-container[data-placement^=bottom] .calcite-floating-ui-anim{transform:translateY(-5px)}.floating-ui-container[data-placement^=top] .calcite-floating-ui-anim{transform:translateY(5px)}.floating-ui-container[data-placement^=left] .calcite-floating-ui-anim{transform:translateX(5px)}.floating-ui-container[data-placement^=right] .calcite-floating-ui-anim{transform:translateX(-5px)}.floating-ui-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}.floating-ui-container--active{visibility:visible}@media (forced-colors: active){.wrapper,.floating-ui-container--active{border:1px solid canvasText}}.screen-readers-only{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.list-container{max-block-size:45vh;overflow-y:auto;background-color:var(--calcite-ui-foreground-1);inline-size:var(--calcite-dropdown-width)}.list{margin:0px;display:block;padding:0px}.list--hide{block-size:0px;overflow:hidden}calcite-chip{--calcite-animation-timing:0}.chip{margin-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);max-inline-size:100%}.chip--active{background-color:var(--calcite-ui-foreground-3)}.chip--invisible{visibility:hidden;position:absolute}.item{display:block}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([hidden]){display:none}[hidden]{display:none}::slotted(calcite-combobox-item-group:not(:first-child)){padding-block-start:var(--calcite-combobox-item-spacing-unit-l)}\";\n\nconst isGroup = (el) => el.tagName === ComboboxItemGroup;\nconst itemUidPrefix = \"combobox-item-\";\nconst chipUidPrefix = \"combobox-chip-\";\nconst labelUidPrefix = \"combobox-label-\";\nconst listboxUidPrefix = \"combobox-listbox-\";\nconst inputUidPrefix = \"combobox-input-\";\nconst Combobox = /*@__PURE__*/ proxyCustomElement(class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.__attachShadow();\n    this.calciteComboboxChange = createEvent(this, \"calciteComboboxChange\", 6);\n    this.calciteComboboxFilterChange = createEvent(this, \"calciteComboboxFilterChange\", 6);\n    this.calciteComboboxChipClose = createEvent(this, \"calciteComboboxChipClose\", 6);\n    this.calciteComboboxBeforeClose = createEvent(this, \"calciteComboboxBeforeClose\", 6);\n    this.calciteComboboxClose = createEvent(this, \"calciteComboboxClose\", 6);\n    this.calciteComboboxBeforeOpen = createEvent(this, \"calciteComboboxBeforeOpen\", 6);\n    this.calciteComboboxOpen = createEvent(this, \"calciteComboboxOpen\", 6);\n    this.placement = defaultMenuPlacement;\n    this.internalValueChangeFlag = false;\n    this.textInput = null;\n    this.mutationObserver = createObserver(\"mutation\", () => this.updateItems());\n    this.resizeObserver = createObserver(\"resize\", () => {\n      this.setMaxScrollerHeight();\n      this.refreshSelectionDisplay();\n    });\n    this.guid = guid();\n    this.inputHeight = 0;\n    this.ignoreSelectedEventsFlag = false;\n    this.openTransitionProp = \"opacity\";\n    this.setFilteredPlacements = () => {\n      const { el, flipPlacements } = this;\n      this.filteredFlipPlacements = flipPlacements\n        ? filterComputedPlacements(flipPlacements, el)\n        : null;\n    };\n    this.getValue = () => {\n      const items = this.selectedItems.map((item) => item?.value?.toString());\n      return items?.length ? (items.length > 1 ? items : items[0]) : \"\";\n    };\n    this.onLabelClick = () => {\n      this.setFocus();\n    };\n    this.keyDownHandler = (event) => {\n      const { key } = event;\n      switch (key) {\n        case \"Tab\":\n          this.activeChipIndex = -1;\n          this.activeItemIndex = -1;\n          if (this.allowCustomValues && this.text) {\n            this.addCustomChip(this.text, true);\n            event.preventDefault();\n          }\n          else if (this.open) {\n            this.open = false;\n            event.preventDefault();\n          }\n          else if (!this.allowCustomValues && this.text) {\n            this.clearInputValue();\n            this.filterItems(\"\");\n            this.updateActiveItemIndex(-1);\n          }\n          break;\n        case \"ArrowLeft\":\n          this.previousChip();\n          event.preventDefault();\n          break;\n        case \"ArrowRight\":\n          this.nextChip();\n          event.preventDefault();\n          break;\n        case \"ArrowUp\":\n          event.preventDefault();\n          if (this.open) {\n            this.shiftActiveItemIndex(-1);\n          }\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \"ArrowDown\":\n          event.preventDefault();\n          if (this.open) {\n            this.shiftActiveItemIndex(1);\n          }\n          else {\n            this.open = true;\n            this.ensureRecentSelectedItemIsActive();\n          }\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \" \":\n          if (!this.textInput.value) {\n            if (!this.open) {\n              this.open = true;\n              this.shiftActiveItemIndex(1);\n            }\n            event.preventDefault();\n          }\n          break;\n        case \"Home\":\n          if (!this.open) {\n            return;\n          }\n          event.preventDefault();\n          this.updateActiveItemIndex(0);\n          this.scrollToActiveItem();\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \"End\":\n          if (!this.open) {\n            return;\n          }\n          event.preventDefault();\n          this.updateActiveItemIndex(this.filteredItems.length - 1);\n          this.scrollToActiveItem();\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \"Escape\":\n          if (!this.clearDisabled && !this.open) {\n            this.clearValue();\n          }\n          this.open = false;\n          event.preventDefault();\n          break;\n        case \"Enter\":\n          if (this.activeItemIndex > -1) {\n            this.toggleSelection(this.filteredItems[this.activeItemIndex]);\n            event.preventDefault();\n          }\n          else if (this.activeChipIndex > -1) {\n            this.removeActiveChip();\n            event.preventDefault();\n          }\n          else if (this.allowCustomValues && this.text) {\n            this.addCustomChip(this.text, true);\n            event.preventDefault();\n          }\n          else if (!event.defaultPrevented) {\n            if (submitForm(this)) {\n              event.preventDefault();\n            }\n          }\n          break;\n        case \"Delete\":\n        case \"Backspace\":\n          if (this.activeChipIndex > -1) {\n            event.preventDefault();\n            this.removeActiveChip();\n          }\n          else if (!this.text && this.isMulti()) {\n            event.preventDefault();\n            this.removeLastChip();\n          }\n          break;\n      }\n    };\n    this.toggleCloseEnd = () => {\n      this.open = false;\n      this.el.removeEventListener(\"calciteComboboxClose\", this.toggleCloseEnd);\n    };\n    this.toggleOpenEnd = () => {\n      this.open = false;\n      this.el.removeEventListener(\"calciteComboboxOpen\", this.toggleOpenEnd);\n    };\n    this.setMaxScrollerHeight = async () => {\n      const { listContainerEl, open, referenceEl } = this;\n      if (!listContainerEl || !open) {\n        return;\n      }\n      await this.reposition(true);\n      const maxScrollerHeight = this.getMaxScrollerHeight();\n      listContainerEl.style.maxHeight = maxScrollerHeight > 0 ? `${maxScrollerHeight}px` : \"\";\n      listContainerEl.style.minWidth = `${referenceEl.clientWidth}px`;\n      await this.reposition(true);\n    };\n    this.calciteChipCloseHandler = (comboboxItem) => {\n      this.open = false;\n      const selection = this.items.find((item) => item === comboboxItem);\n      if (selection) {\n        this.toggleSelection(selection, false);\n      }\n      this.calciteComboboxChipClose.emit();\n    };\n    this.clickHandler = (event) => {\n      const composedPath = event.composedPath();\n      if (composedPath.some((node) => node.tagName === \"CALCITE-CHIP\")) {\n        this.open = false;\n        event.preventDefault();\n        return;\n      }\n      if (composedPath.some((node) => node.classList?.contains(CSS.button))) {\n        this.clearValue();\n        event.preventDefault();\n        return;\n      }\n      this.open = !this.open;\n      this.ensureRecentSelectedItemIsActive();\n    };\n    this.refreshSelectionDisplay = async () => {\n      await componentLoaded(this);\n      if (isSingleLike(this.selectionMode)) {\n        return;\n      }\n      if (!this.textInput) {\n        return;\n      }\n      const { allSelectedIndicatorChipEl, chipContainerEl, selectionDisplay, placeholder, selectedIndicatorChipEl, textInput, } = this;\n      const chipContainerElGap = parseInt(getComputedStyle(chipContainerEl).gap.replace(\"px\", \"\"));\n      const chipContainerElWidth = getElementWidth(chipContainerEl);\n      const { fontSize, fontFamily } = getComputedStyle(textInput);\n      const inputTextWidth = getTextWidth(placeholder, `${fontSize} ${fontFamily}`);\n      const inputWidth = (inputTextWidth || parseInt(CoreSizing15)) + chipContainerElGap;\n      const allSelectedIndicatorChipElWidth = getElementWidth(allSelectedIndicatorChipEl);\n      const selectedIndicatorChipElWidth = getElementWidth(selectedIndicatorChipEl);\n      const largestSelectedIndicatorChipWidth = Math.max(allSelectedIndicatorChipElWidth, selectedIndicatorChipElWidth);\n      this.setCompactSelectionDisplay({\n        chipContainerElGap,\n        chipContainerElWidth,\n        inputWidth,\n        largestSelectedIndicatorChipWidth,\n      });\n      if (selectionDisplay === \"fit\") {\n        const chipEls = Array.from(this.el.shadowRoot.querySelectorAll(\"calcite-chip\")).filter((chipEl) => chipEl.closable);\n        const availableHorizontalChipElSpace = Math.round(chipContainerElWidth -\n          ((this.selectedHiddenChipsCount > 0 ? selectedIndicatorChipElWidth : 0) +\n            chipContainerElGap +\n            inputWidth +\n            chipContainerElGap));\n        this.refreshChipDisplay({ availableHorizontalChipElSpace, chipContainerElGap, chipEls });\n        this.setVisibleAndHiddenChips(chipEls);\n      }\n    };\n    this.setFloatingEl = (el) => {\n      this.floatingEl = el;\n      connectFloatingUI(this, this.referenceEl, this.floatingEl);\n    };\n    this.setContainerEl = (el) => {\n      this.resizeObserver.observe(el);\n      this.listContainerEl = el;\n      this.transitionEl = el;\n    };\n    this.setChipContainerEl = (el) => {\n      this.resizeObserver.observe(el);\n      this.chipContainerEl = el;\n    };\n    this.setReferenceEl = (el) => {\n      this.referenceEl = el;\n      connectFloatingUI(this, this.referenceEl, this.floatingEl);\n    };\n    this.setAllSelectedIndicatorChipEl = (el) => {\n      this.allSelectedIndicatorChipEl = el;\n    };\n    this.setSelectedIndicatorChipEl = (el) => {\n      this.selectedIndicatorChipEl = el;\n    };\n    this.inputHandler = (event) => {\n      const value = event.target.value;\n      this.text = value;\n      this.filterItems(value);\n      if (value) {\n        this.activeChipIndex = -1;\n      }\n    };\n    this.filterItems = (() => {\n      const find = (item, filteredData) => item &&\n        filteredData.some(({ label, value }) => isGroup(item) ? label === item.label : value === item.value && label === item.textLabel);\n      return debounce((text) => {\n        const filteredData = filter(this.data, text);\n        const itemsAndGroups = this.getItemsAndGroups();\n        itemsAndGroups.forEach((item) => {\n          const hidden = !find(item, filteredData);\n          item.hidden = hidden;\n          const [parent, grandparent] = item.ancestors;\n          if (find(parent, filteredData) || find(grandparent, filteredData)) {\n            item.hidden = false;\n          }\n          if (!hidden) {\n            item.ancestors.forEach((ancestor) => (ancestor.hidden = false));\n          }\n        });\n        this.filteredItems = this.getFilteredItems();\n        this.calciteComboboxFilterChange.emit();\n      }, 100);\n    })();\n    this.internalComboboxChangeEvent = () => {\n      this.calciteComboboxChange.emit();\n    };\n    this.emitComboboxChange = debounce(this.internalComboboxChangeEvent, 0);\n    this.getSelectedItems = () => {\n      if (!this.isMulti()) {\n        const match = this.items.find(({ selected }) => selected);\n        return match ? [match] : [];\n      }\n      return (this.items\n        .filter((item) => item.selected && (this.selectionMode !== \"ancestors\" || !hasActiveChildren(item)))\n        /** Preserve order of entered tags */\n        .sort((a, b) => {\n        const aIdx = this.selectedItems.indexOf(a);\n        const bIdx = this.selectedItems.indexOf(b);\n        if (aIdx > -1 && bIdx > -1) {\n          return aIdx - bIdx;\n        }\n        return bIdx - aIdx;\n      }));\n    };\n    this.updateItems = () => {\n      this.items = this.getItems();\n      this.groupItems = this.getGroupItems();\n      this.data = this.getData();\n      this.selectedItems = this.getSelectedItems();\n      this.filteredItems = this.getFilteredItems();\n      this.needsIcon = this.getNeedsIcon();\n      this.items.forEach((item) => {\n        item.selectionMode = this.selectionMode;\n        item.scale = this.scale;\n      });\n      if (!this.allowCustomValues) {\n        this.setMaxScrollerHeight();\n      }\n      this.groupItems.forEach((groupItem, index, items) => {\n        if (index === 0) {\n          groupItem.afterEmptyGroup = false;\n        }\n        const nextGroupItem = items[index + 1];\n        if (nextGroupItem) {\n          nextGroupItem.afterEmptyGroup = groupItem.children.length === 0;\n        }\n      });\n    };\n    this.scrollToActiveItem = () => {\n      const activeItem = this.filteredItems[this.activeItemIndex];\n      if (!activeItem) {\n        return;\n      }\n      const height = this.calculateSingleItemHeight(activeItem);\n      const { offsetHeight, scrollTop } = this.listContainerEl;\n      if (offsetHeight + scrollTop < activeItem.offsetTop + height) {\n        this.listContainerEl.scrollTop = activeItem.offsetTop - offsetHeight + height;\n      }\n      else if (activeItem.offsetTop < scrollTop) {\n        this.listContainerEl.scrollTop = activeItem.offsetTop;\n      }\n    };\n    this.comboboxFocusHandler = () => {\n      if (this.disabled) {\n        return;\n      }\n      this.textInput?.focus();\n    };\n    this.clearDisabled = false;\n    this.selectionDisplay = \"all\";\n    this.open = false;\n    this.disabled = false;\n    this.form = undefined;\n    this.label = undefined;\n    this.placeholder = undefined;\n    this.placeholderIcon = undefined;\n    this.placeholderIconFlipRtl = false;\n    this.maxItems = 0;\n    this.name = undefined;\n    this.allowCustomValues = undefined;\n    this.overlayPositioning = \"absolute\";\n    this.required = false;\n    this.selectionMode = \"multiple\";\n    this.scale = \"m\";\n    this.value = null;\n    this.flipPlacements = undefined;\n    this.messages = undefined;\n    this.messageOverrides = undefined;\n    this.selectedItems = [];\n    this.filteredItems = [];\n    this.items = [];\n    this.groupItems = [];\n    this.needsIcon = undefined;\n    this.activeItemIndex = -1;\n    this.activeChipIndex = -1;\n    this.activeDescendant = \"\";\n    this.compactSelectionDisplay = false;\n    this.selectedHiddenChipsCount = 0;\n    this.selectedVisibleChipsCount = 0;\n    this.text = \"\";\n    this.effectiveLocale = undefined;\n    this.defaultMessages = undefined;\n  }\n  openHandler() {\n    onToggleOpenCloseComponent(this);\n    if (this.disabled) {\n      this.open = false;\n      return;\n    }\n    this.setMaxScrollerHeight();\n  }\n  handleDisabledChange(value) {\n    if (!value) {\n      this.open = false;\n    }\n  }\n  maxItemsHandler() {\n    this.setMaxScrollerHeight();\n  }\n  overlayPositioningHandler() {\n    this.reposition(true);\n  }\n  handlePropsChange() {\n    this.updateItems();\n  }\n  valueHandler(value) {\n    if (!this.internalValueChangeFlag) {\n      const items = this.getItems();\n      if (Array.isArray(value)) {\n        items.forEach((item) => (item.selected = value.includes(item.value)));\n      }\n      else if (value) {\n        items.forEach((item) => (item.selected = value === item.value));\n      }\n      else {\n        items.forEach((item) => (item.selected = false));\n      }\n      this.updateItems();\n    }\n  }\n  onMessagesChange() {\n    /*  wired up by t9n util */\n  }\n  flipPlacementsHandler() {\n    this.setFilteredPlacements();\n    this.reposition(true);\n  }\n  selectedItemsHandler() {\n    this.internalValueChangeFlag = true;\n    this.value = this.getValue();\n    this.internalValueChangeFlag = false;\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n  documentClickHandler(event) {\n    if (this.disabled || !isPrimaryPointerButton(event)) {\n      return;\n    }\n    const composedPath = event.composedPath();\n    if (composedPath.includes(this.el) || composedPath.includes(this.referenceEl)) {\n      return;\n    }\n    if (!this.allowCustomValues && this.textInput.value) {\n      this.clearInputValue();\n      this.filterItems(\"\");\n      this.updateActiveItemIndex(-1);\n    }\n    if (this.allowCustomValues && this.text.trim().length) {\n      this.addCustomChip(this.text);\n    }\n    this.open = false;\n  }\n  calciteComboboxItemChangeHandler(event) {\n    if (this.ignoreSelectedEventsFlag) {\n      return;\n    }\n    const target = event.target;\n    const newIndex = this.filteredItems.indexOf(target);\n    this.updateActiveItemIndex(newIndex);\n    this.toggleSelection(target, target.selected);\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n  /**\n   * Updates the position of the component.\n   *\n   * @param delayed Reposition the component after a delay\n   * @returns Promise\n   */\n  async reposition(delayed = false) {\n    const { floatingEl, referenceEl, placement, overlayPositioning, filteredFlipPlacements } = this;\n    return reposition(this, {\n      floatingEl,\n      referenceEl,\n      overlayPositioning,\n      placement,\n      flipPlacements: filteredFlipPlacements,\n      type: \"menu\",\n    }, delayed);\n  }\n  /** Sets focus on the component. */\n  async setFocus() {\n    await componentFocusable(this);\n    this.textInput?.focus();\n    this.activeChipIndex = -1;\n    this.activeItemIndex = -1;\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n  connectedCallback() {\n    connectInteractive(this);\n    connectLocalized(this);\n    connectMessages(this);\n    connectLabel(this);\n    connectForm(this);\n    this.internalValueChangeFlag = true;\n    this.value = this.getValue();\n    this.internalValueChangeFlag = false;\n    this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n    this.updateItems();\n    this.setFilteredPlacements();\n    this.reposition(true);\n    if (this.open) {\n      this.openHandler();\n      onToggleOpenCloseComponent(this);\n    }\n  }\n  async componentWillLoad() {\n    setUpLoadableComponent(this);\n    this.updateItems();\n    await setUpMessages(this);\n  }\n  componentDidLoad() {\n    afterConnectDefaultValueSet(this, this.getValue());\n    this.reposition(true);\n    setComponentLoaded(this);\n  }\n  componentDidRender() {\n    if (this.el.offsetHeight !== this.inputHeight) {\n      this.reposition(true);\n      this.inputHeight = this.el.offsetHeight;\n    }\n    updateHostInteraction(this);\n  }\n  componentDidUpdate() {\n    this.refreshSelectionDisplay();\n  }\n  disconnectedCallback() {\n    this.mutationObserver?.disconnect();\n    this.resizeObserver?.disconnect();\n    disconnectInteractive(this);\n    disconnectLabel(this);\n    disconnectForm(this);\n    disconnectFloatingUI(this, this.referenceEl, this.floatingEl);\n    disconnectLocalized(this);\n    disconnectMessages(this);\n  }\n  /** when search text is cleared, reset active to  */\n  textHandler() {\n    this.updateActiveItemIndex(-1);\n  }\n  effectiveLocaleChange() {\n    updateMessages(this, this.effectiveLocale);\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  // --------------------------------------------------------------------------\n  clearValue() {\n    this.ignoreSelectedEventsFlag = true;\n    this.items.forEach((el) => (el.selected = false));\n    this.ignoreSelectedEventsFlag = false;\n    this.selectedItems = [];\n    this.emitComboboxChange();\n    this.open = false;\n    this.updateActiveItemIndex(-1);\n    this.resetText();\n    this.filterItems(\"\");\n    this.setFocus();\n  }\n  clearInputValue() {\n    this.textInput.value = \"\";\n    this.text = \"\";\n  }\n  comboboxInViewport() {\n    const bounding = this.el.getBoundingClientRect();\n    return (bounding.top >= 0 &&\n      bounding.left >= 0 &&\n      bounding.right <= (window.innerWidth || document.documentElement.clientWidth) &&\n      bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight));\n  }\n  onBeforeOpen() {\n    this.scrollToActiveItem();\n    this.calciteComboboxBeforeOpen.emit();\n  }\n  onOpen() {\n    this.calciteComboboxOpen.emit();\n  }\n  onBeforeClose() {\n    this.calciteComboboxBeforeClose.emit();\n  }\n  onClose() {\n    this.calciteComboboxClose.emit();\n  }\n  ensureRecentSelectedItemIsActive() {\n    const { selectedItems } = this;\n    const targetIndex = selectedItems.length === 0 ? 0 : this.items.indexOf(selectedItems[selectedItems.length - 1]);\n    this.updateActiveItemIndex(targetIndex);\n  }\n  hideChip(chipEl) {\n    chipEl.classList.add(CSS$1.chipInvisible);\n  }\n  showChip(chipEl) {\n    chipEl.classList.remove(CSS$1.chipInvisible);\n  }\n  refreshChipDisplay({ chipEls, availableHorizontalChipElSpace, chipContainerElGap, }) {\n    chipEls.forEach((chipEl) => {\n      if (!chipEl.selected) {\n        this.hideChip(chipEl);\n      }\n      else {\n        const chipElWidth = getElementWidth(chipEl);\n        if (chipElWidth && chipElWidth < availableHorizontalChipElSpace) {\n          availableHorizontalChipElSpace -= chipElWidth + chipContainerElGap;\n          this.showChip(chipEl);\n          return;\n        }\n      }\n      this.hideChip(chipEl);\n    });\n  }\n  setCompactSelectionDisplay({ chipContainerElGap, chipContainerElWidth, inputWidth, largestSelectedIndicatorChipWidth, }) {\n    const newCompactBreakpoint = Math.round(largestSelectedIndicatorChipWidth + chipContainerElGap + inputWidth);\n    if (!this.maxCompactBreakpoint || this.maxCompactBreakpoint < newCompactBreakpoint) {\n      this.maxCompactBreakpoint = newCompactBreakpoint;\n    }\n    this.compactSelectionDisplay = chipContainerElWidth < this.maxCompactBreakpoint;\n  }\n  setVisibleAndHiddenChips(chipEls) {\n    let newSelectedVisibleChipsCount = 0;\n    chipEls.forEach((chipEl) => {\n      if (chipEl.selected && !chipEl.classList.contains(CSS$1.chipInvisible)) {\n        newSelectedVisibleChipsCount++;\n      }\n    });\n    if (newSelectedVisibleChipsCount !== this.selectedVisibleChipsCount) {\n      this.selectedVisibleChipsCount = newSelectedVisibleChipsCount;\n    }\n    const newSelectedHiddenChipsCount = this.getSelectedItems().length - newSelectedVisibleChipsCount;\n    if (newSelectedHiddenChipsCount !== this.selectedHiddenChipsCount) {\n      this.selectedHiddenChipsCount = newSelectedHiddenChipsCount;\n    }\n  }\n  getMaxScrollerHeight() {\n    const items = this.getItemsAndGroups().filter((item) => !item.hidden);\n    const { maxItems } = this;\n    let itemsToProcess = 0;\n    let maxScrollerHeight = 0;\n    if (items.length > maxItems) {\n      items.forEach((item) => {\n        if (itemsToProcess < maxItems && maxItems > 0) {\n          const height = this.calculateSingleItemHeight(item);\n          if (height > 0) {\n            maxScrollerHeight += height;\n            itemsToProcess++;\n          }\n        }\n      });\n    }\n    return maxScrollerHeight;\n  }\n  calculateSingleItemHeight(item) {\n    if (!item) {\n      return;\n    }\n    let height = item.offsetHeight;\n    // if item has children items, don't count their height twice\n    const children = Array.from(item.querySelectorAll(ComboboxChildSelector));\n    children\n      .map((child) => child?.offsetHeight)\n      .forEach((offsetHeight) => {\n      height -= offsetHeight;\n    });\n    return height;\n  }\n  getItemsAndGroups() {\n    return [...this.groupItems, ...this.items];\n  }\n  toggleSelection(item, value = !item.selected) {\n    if (!item ||\n      (this.selectionMode === \"single-persist\" && item.selected && item.value === this.value)) {\n      return;\n    }\n    if (this.isMulti()) {\n      item.selected = value;\n      this.updateAncestors(item);\n      this.selectedItems = this.getSelectedItems();\n      this.emitComboboxChange();\n      this.resetText();\n      this.filterItems(\"\");\n    }\n    else {\n      this.ignoreSelectedEventsFlag = true;\n      this.items.forEach((el) => (el.selected = el === item ? value : false));\n      this.ignoreSelectedEventsFlag = false;\n      this.selectedItems = this.getSelectedItems();\n      this.emitComboboxChange();\n      if (this.textInput) {\n        this.textInput.value = item.textLabel;\n      }\n      this.open = false;\n      this.updateActiveItemIndex(-1);\n      this.resetText();\n      this.filterItems(\"\");\n    }\n  }\n  updateAncestors(item) {\n    if (this.selectionMode !== \"ancestors\") {\n      return;\n    }\n    const ancestors = getItemAncestors(item);\n    const children = getItemChildren(item);\n    if (item.selected) {\n      ancestors.forEach((el) => {\n        el.selected = true;\n      });\n    }\n    else {\n      children.forEach((el) => (el.selected = false));\n      [...ancestors].forEach((el) => {\n        if (!hasActiveChildren(el)) {\n          el.selected = false;\n        }\n      });\n    }\n  }\n  getFilteredItems() {\n    return this.items.filter((item) => !item.hidden);\n  }\n  getData() {\n    return this.items.map((item) => ({\n      filterDisabled: item.filterDisabled,\n      value: item.value,\n      label: item.textLabel,\n    }));\n  }\n  getNeedsIcon() {\n    return isSingleLike(this.selectionMode) && this.items.some((item) => item.icon);\n  }\n  resetText() {\n    if (this.textInput) {\n      this.textInput.value = \"\";\n    }\n    this.text = \"\";\n  }\n  getItems() {\n    const items = Array.from(this.el.querySelectorAll(ComboboxItem));\n    return items.filter((item) => !item.disabled);\n  }\n  getGroupItems() {\n    return Array.from(this.el.querySelectorAll(ComboboxItemGroup));\n  }\n  addCustomChip(value, focus) {\n    const existingItem = this.items.find((el) => el.textLabel === value);\n    if (existingItem) {\n      this.toggleSelection(existingItem, true);\n    }\n    else {\n      if (!this.isMulti()) {\n        this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n      }\n      const item = document.createElement(ComboboxItem);\n      item.value = value;\n      item.textLabel = value;\n      item.selected = true;\n      this.el.appendChild(item);\n      this.resetText();\n      if (focus) {\n        this.setFocus();\n      }\n      this.updateItems();\n      this.filterItems(\"\");\n      this.emitComboboxChange();\n    }\n  }\n  removeActiveChip() {\n    this.toggleSelection(this.selectedItems[this.activeChipIndex], false);\n    this.setFocus();\n  }\n  removeLastChip() {\n    this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n    this.setFocus();\n  }\n  previousChip() {\n    if (this.text) {\n      return;\n    }\n    const length = this.selectedItems.length - 1;\n    const active = this.activeChipIndex;\n    this.activeChipIndex = active === -1 ? length : Math.max(active - 1, 0);\n    this.updateActiveItemIndex(-1);\n    this.focusChip();\n  }\n  nextChip() {\n    if (this.text || this.activeChipIndex === -1) {\n      return;\n    }\n    const last = this.selectedItems.length - 1;\n    const newIndex = this.activeChipIndex + 1;\n    if (newIndex > last) {\n      this.activeChipIndex = -1;\n      this.setFocus();\n    }\n    else {\n      this.activeChipIndex = newIndex;\n      this.focusChip();\n    }\n    this.updateActiveItemIndex(-1);\n  }\n  focusChip() {\n    const guid = this.selectedItems[this.activeChipIndex]?.guid;\n    const chip = guid\n      ? this.referenceEl.querySelector(`#${chipUidPrefix}${guid}`)\n      : null;\n    chip?.setFocus();\n  }\n  shiftActiveItemIndex(delta) {\n    const { length } = this.filteredItems;\n    const newIndex = (this.activeItemIndex + length + delta) % length;\n    this.updateActiveItemIndex(newIndex);\n    this.scrollToActiveItem();\n  }\n  updateActiveItemIndex(index) {\n    this.activeItemIndex = index;\n    let activeDescendant = null;\n    this.filteredItems.forEach((el, i) => {\n      if (i === index) {\n        el.active = true;\n        activeDescendant = `${itemUidPrefix}${el.guid}`;\n      }\n      else {\n        el.active = false;\n      }\n    });\n    this.activeDescendant = activeDescendant;\n    if (this.activeItemIndex > -1) {\n      this.activeChipIndex = -1;\n    }\n  }\n  isAllSelected() {\n    return this.getItems().length === this.getSelectedItems().length;\n  }\n  isMulti() {\n    return !isSingleLike(this.selectionMode);\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  //--------------------------------------------------------------------------\n  renderChips() {\n    const { activeChipIndex, scale, selectionMode, messages } = this;\n    return this.selectedItems.map((item, i) => {\n      const chipClasses = {\n        chip: true,\n        \"chip--active\": activeChipIndex === i,\n      };\n      const ancestors = [...getItemAncestors(item)].reverse();\n      const pathLabel = [...ancestors, item].map((el) => el.textLabel);\n      const label = selectionMode !== \"ancestors\" ? item.textLabel : pathLabel.join(\" / \");\n      return (h(\"calcite-chip\", { class: chipClasses, closable: true, icon: item.icon, iconFlipRtl: item.iconFlipRtl, id: item.guid ? `${chipUidPrefix}${item.guid}` : null, key: item.textLabel, messageOverrides: { dismissLabel: messages.removeTag }, onCalciteChipClose: () => this.calciteChipCloseHandler(item), scale: scale, selected: item.selected, title: label, value: item.value }, label));\n    });\n  }\n  renderAllSelectedIndicatorChip() {\n    const { compactSelectionDisplay, scale, selectedVisibleChipsCount, setAllSelectedIndicatorChipEl, } = this;\n    const label = this.messages.allSelected;\n    return (h(\"calcite-chip\", { class: {\n        chip: true,\n        [CSS$1.chipInvisible]: !(this.isAllSelected() &&\n          !selectedVisibleChipsCount &&\n          !compactSelectionDisplay),\n      }, scale: scale, title: label, value: \"\",\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: setAllSelectedIndicatorChipEl }, label));\n  }\n  renderAllSelectedIndicatorChipCompact() {\n    const { compactSelectionDisplay, scale, selectedVisibleChipsCount } = this;\n    const label = this.messages.all || \"All\";\n    return (h(\"calcite-chip\", { class: {\n        chip: true,\n        [CSS$1.chipInvisible]: !(this.isAllSelected() &&\n          !selectedVisibleChipsCount &&\n          compactSelectionDisplay),\n      }, scale: scale, title: label, value: \"\" }, label));\n  }\n  renderSelectedIndicatorChip() {\n    const { compactSelectionDisplay, selectionDisplay, getSelectedItems, scale, selectedHiddenChipsCount, selectedVisibleChipsCount, setSelectedIndicatorChipEl, } = this;\n    let chipInvisible;\n    let label;\n    if (compactSelectionDisplay) {\n      chipInvisible = true;\n    }\n    else {\n      if (selectionDisplay === \"single\") {\n        const selectedItemsCount = getSelectedItems().length;\n        if (this.isAllSelected()) {\n          chipInvisible = true;\n        }\n        else if (selectedItemsCount > 0) {\n          chipInvisible = false;\n        }\n        else {\n          chipInvisible = true;\n        }\n        label = `${selectedItemsCount} ${this.messages.selected}`;\n      }\n      else if (selectionDisplay === \"fit\") {\n        chipInvisible = !!((this.isAllSelected() && selectedVisibleChipsCount === 0) ||\n          selectedHiddenChipsCount === 0);\n        label =\n          selectedVisibleChipsCount > 0\n            ? `+${selectedHiddenChipsCount}`\n            : `${selectedHiddenChipsCount} ${this.messages.selected}`;\n      }\n    }\n    return (h(\"calcite-chip\", { class: {\n        chip: true,\n        [CSS$1.chipInvisible]: chipInvisible,\n      }, scale: scale, title: label, value: \"\",\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: setSelectedIndicatorChipEl }, label));\n  }\n  renderSelectedIndicatorChipCompact() {\n    const { compactSelectionDisplay, selectionDisplay, getSelectedItems, scale, selectedHiddenChipsCount, } = this;\n    let chipInvisible;\n    let label;\n    if (compactSelectionDisplay) {\n      const selectedItemsCount = getSelectedItems().length;\n      if (this.isAllSelected()) {\n        chipInvisible = true;\n      }\n      else if (selectionDisplay === \"fit\") {\n        chipInvisible = !(selectedHiddenChipsCount > 0);\n        label = `${selectedHiddenChipsCount || 0}`;\n      }\n      else if (selectionDisplay === \"single\") {\n        chipInvisible = !(selectedItemsCount > 0);\n        label = `${selectedItemsCount}`;\n      }\n    }\n    else {\n      chipInvisible = true;\n    }\n    return (h(\"calcite-chip\", { class: {\n        chip: true,\n        [CSS$1.chipInvisible]: chipInvisible,\n      }, scale: scale, title: label, value: \"\" }, label));\n  }\n  renderInput() {\n    const { guid, disabled, placeholder, selectionMode, selectedItems, open } = this;\n    const single = isSingleLike(selectionMode);\n    const selectedItem = selectedItems[0];\n    const showLabel = !open && single && !!selectedItem;\n    return (h(\"span\", { class: {\n        \"input-wrap\": true,\n        \"input-wrap--single\": single,\n      } }, showLabel && (h(\"span\", { class: {\n        label: true,\n        \"label--icon\": !!selectedItem?.icon,\n      }, key: \"label\" }, selectedItem.textLabel)), h(\"input\", { \"aria-activedescendant\": this.activeDescendant, \"aria-autocomplete\": \"list\", \"aria-controls\": `${listboxUidPrefix}${guid}`, \"aria-label\": getLabelText(this), class: {\n        input: true,\n        \"input--single\": true,\n        \"input--transparent\": this.activeChipIndex > -1,\n        \"input--hidden\": showLabel,\n        \"input--icon\": !!this.placeholderIcon,\n      }, disabled: disabled, id: `${inputUidPrefix}${guid}`, key: \"input\", onFocus: this.comboboxFocusHandler, onInput: this.inputHandler, placeholder: placeholder, type: \"text\",\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: (el) => (this.textInput = el) })));\n  }\n  renderListBoxOptions() {\n    return this.filteredItems.map((item) => (h(\"li\", { \"aria-selected\": toAriaBoolean(item.selected), id: item.guid ? `${itemUidPrefix}${item.guid}` : null, role: \"option\", tabindex: \"-1\" }, item.textLabel)));\n  }\n  renderFloatingUIContainer() {\n    const { setFloatingEl, setContainerEl, open } = this;\n    const classes = {\n      [CSS$1.listContainer]: true,\n      [FloatingCSS.animation]: true,\n      [FloatingCSS.animationActive]: open,\n    };\n    return (h(\"div\", { \"aria-hidden\": \"true\", class: {\n        \"floating-ui-container\": true,\n        \"floating-ui-container--active\": open,\n      },\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: setFloatingEl }, h(\"div\", { class: classes,\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: setContainerEl }, h(\"ul\", { class: { list: true, \"list--hide\": !open } }, h(\"slot\", null)))));\n  }\n  renderIconStart() {\n    const { selectedItems, placeholderIcon, selectionMode, placeholderIconFlipRtl } = this;\n    const selectedItem = selectedItems[0];\n    const selectedIcon = selectedItem?.icon;\n    const singleSelectionMode = isSingleLike(selectionMode);\n    const iconAtStart = !this.open && selectedItem\n      ? !!selectedIcon && singleSelectionMode\n      : !!this.placeholderIcon && (!selectedItem || singleSelectionMode);\n    return (iconAtStart && (h(\"span\", { class: \"icon-start\" }, h(\"calcite-icon\", { class: \"selected-icon\", flipRtl: this.open && selectedItem ? selectedItem.iconFlipRtl : placeholderIconFlipRtl, icon: !this.open && selectedItem ? selectedIcon : placeholderIcon, scale: getIconScale(this.scale) }))));\n  }\n  renderIconEnd() {\n    const { open } = this;\n    return (h(\"span\", { class: \"icon-end\" }, h(\"calcite-icon\", { icon: open ? \"chevron-up\" : \"chevron-down\", scale: getIconScale(this.scale) })));\n  }\n  render() {\n    const { selectionDisplay, guid, label, open } = this;\n    const singleSelectionMode = isSingleLike(this.selectionMode);\n    const allSelectionDisplay = selectionDisplay === \"all\";\n    const singleSelectionDisplay = selectionDisplay === \"single\";\n    const fitSelectionDisplay = !singleSelectionMode && selectionDisplay === \"fit\";\n    const isClearable = !this.clearDisabled && this.value?.length > 0;\n    return (h(Host, { onClick: this.comboboxFocusHandler }, h(\"div\", { \"aria-autocomplete\": \"list\", \"aria-controls\": `${listboxUidPrefix}${guid}`, \"aria-expanded\": toAriaBoolean(open), \"aria-haspopup\": \"listbox\", \"aria-label\": getLabelText(this), \"aria-live\": \"polite\", \"aria-owns\": `${listboxUidPrefix}${guid}`, class: {\n        wrapper: true,\n        \"wrapper--single\": singleSelectionMode || !this.selectedItems.length,\n        \"wrapper--active\": open,\n      }, onClick: this.clickHandler, onKeyDown: this.keyDownHandler, role: \"combobox\",\n      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n      ref: this.setReferenceEl }, h(\"div\", { class: {\n        \"grid-input\": true,\n        [CSS$1.selectionDisplayFit]: fitSelectionDisplay,\n        [CSS$1.selectionDisplaySingle]: singleSelectionDisplay,\n      }, ref: this.setChipContainerEl }, this.renderIconStart(), !singleSelectionMode && !singleSelectionDisplay && this.renderChips(), !singleSelectionMode &&\n      !allSelectionDisplay && [\n      this.renderSelectedIndicatorChip(),\n      this.renderSelectedIndicatorChipCompact(),\n      this.renderAllSelectedIndicatorChip(),\n      this.renderAllSelectedIndicatorChipCompact(),\n    ], h(\"label\", { class: \"screen-readers-only\", htmlFor: `${inputUidPrefix}${guid}`, id: `${labelUidPrefix}${guid}` }, label), this.renderInput()), isClearable ? (h(XButton, { disabled: this.disabled, key: \"close-button\", label: this.messages.clear, scale: this.scale })) : null, this.renderIconEnd()), h(\"ul\", { \"aria-labelledby\": `${labelUidPrefix}${guid}`, \"aria-multiselectable\": \"true\", class: \"screen-readers-only\", id: `${listboxUidPrefix}${guid}`, role: \"listbox\", tabIndex: -1 }, this.renderListBoxOptions()), this.renderFloatingUIContainer(), h(HiddenFormInputSlot, { component: this })));\n  }\n  static get assetsDirs() { return [\"assets\"]; }\n  get el() { return this; }\n  static get watchers() { return {\n    \"open\": [\"openHandler\"],\n    \"disabled\": [\"handleDisabledChange\"],\n    \"maxItems\": [\"maxItemsHandler\"],\n    \"overlayPositioning\": [\"overlayPositioningHandler\"],\n    \"selectionMode\": [\"handlePropsChange\"],\n    \"scale\": [\"handlePropsChange\"],\n    \"value\": [\"valueHandler\"],\n    \"messageOverrides\": [\"onMessagesChange\"],\n    \"flipPlacements\": [\"flipPlacementsHandler\"],\n    \"selectedItems\": [\"selectedItemsHandler\"],\n    \"text\": [\"textHandler\"],\n    \"effectiveLocale\": [\"effectiveLocaleChange\"]\n  }; }\n  static get style() { return comboboxCss; }\n}, [1, \"calcite-combobox\", {\n    \"clearDisabled\": [516, \"clear-disabled\"],\n    \"selectionDisplay\": [513, \"selection-display\"],\n    \"open\": [1540],\n    \"disabled\": [516],\n    \"form\": [513],\n    \"label\": [1],\n    \"placeholder\": [1],\n    \"placeholderIcon\": [513, \"placeholder-icon\"],\n    \"placeholderIconFlipRtl\": [516, \"placeholder-icon-flip-rtl\"],\n    \"maxItems\": [514, \"max-items\"],\n    \"name\": [513],\n    \"allowCustomValues\": [516, \"allow-custom-values\"],\n    \"overlayPositioning\": [513, \"overlay-positioning\"],\n    \"required\": [516],\n    \"selectionMode\": [513, \"selection-mode\"],\n    \"scale\": [513],\n    \"value\": [1025],\n    \"flipPlacements\": [16],\n    \"messages\": [1040],\n    \"messageOverrides\": [1040],\n    \"selectedItems\": [1040],\n    \"filteredItems\": [1040],\n    \"items\": [32],\n    \"groupItems\": [32],\n    \"needsIcon\": [32],\n    \"activeItemIndex\": [32],\n    \"activeChipIndex\": [32],\n    \"activeDescendant\": [32],\n    \"compactSelectionDisplay\": [32],\n    \"selectedHiddenChipsCount\": [32],\n    \"selectedVisibleChipsCount\": [32],\n    \"text\": [32],\n    \"effectiveLocale\": [32],\n    \"defaultMessages\": [32],\n    \"reposition\": [64],\n    \"setFocus\": [64]\n  }, [[5, \"pointerdown\", \"documentClickHandler\"], [0, \"calciteComboboxItemChange\", \"calciteComboboxItemChangeHandler\"]]]);\nfunction defineCustomElement() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"calcite-combobox\", \"calcite-chip\", \"calcite-icon\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"calcite-combobox\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, Combobox);\n      }\n      break;\n    case \"calcite-chip\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$2();\n      }\n      break;\n    case \"calcite-icon\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$1();\n      }\n      break;\n  } });\n}\ndefineCustomElement();\n\nexport { Combobox as C, defineCustomElement as d };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v1.11.0\n */\nimport { o as nodeListToArray } from './dom.js';\nimport { Build } from '@stencil/core/internal/client/index.js';\n\nconst ComboboxItem = \"CALCITE-COMBOBOX-ITEM\";\nconst ComboboxItemGroup = \"CALCITE-COMBOBOX-ITEM-GROUP\";\nconst ComboboxChildSelector = `${ComboboxItem}, ${ComboboxItemGroup}`;\nconst CSS = {\n  chipInvisible: \"chip--invisible\",\n  selectionDisplayFit: \"selection-display-fit\",\n  selectionDisplaySingle: \"selection-display-single\",\n  listContainer: \"list-container\",\n};\n\nfunction getAncestors(element) {\n  const parent = element.parentElement?.closest(ComboboxChildSelector);\n  const grandparent = parent?.parentElement?.closest(ComboboxChildSelector);\n  return [parent, grandparent].filter((el) => el);\n}\nfunction getItemAncestors(item) {\n  return (item.ancestors?.filter((el) => el.nodeName === \"CALCITE-COMBOBOX-ITEM\") || []);\n}\nfunction getItemChildren(item) {\n  return nodeListToArray(item.querySelectorAll(\"calcite-combobox-item\"));\n}\nfunction hasActiveChildren(node) {\n  const items = nodeListToArray(node.querySelectorAll(\"calcite-combobox-item\"));\n  return items.filter((item) => item.selected).length > 0;\n}\nfunction getDepth(element) {\n  if (!Build.isBrowser) {\n    return 0;\n  }\n  const result = document.evaluate(\"ancestor::calcite-combobox-item | ancestor::calcite-combobox-item-group\", element, null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);\n  return result.snapshotLength;\n}\nfunction isSingleLike(selectionMode) {\n  return selectionMode.includes(\"single\");\n}\n\nexport { CSS as C, getDepth as a, ComboboxChildSelector as b, getItemAncestors as c, getItemChildren as d, ComboboxItem as e, ComboboxItemGroup as f, getAncestors as g, hasActiveChildren as h, isSingleLike as i };\n"],"names":["CoreSizing15","CoreBreakpointWidthDefaultXxs","CoreBreakpointWidthDefaultXs","CoreBreakpointWidthDefaultSm","CoreBreakpointWidthDefaultMd","CoreBreakpointWidthDefaultLg","CSS","XButton","_ref","disabled","key","label","onClick","ref","scale","h","class","tabIndex","type","icon","getIconScale","itemUidPrefix","chipUidPrefix","labelUidPrefix","listboxUidPrefix","inputUidPrefix","Combobox","proxyCustomElement","HTMLElement","constructor","super","this","__registerHost","__attachShadow","calciteComboboxChange","createEvent","calciteComboboxFilterChange","calciteComboboxChipClose","calciteComboboxBeforeClose","calciteComboboxClose","calciteComboboxBeforeOpen","calciteComboboxOpen","placement","defaultMenuPlacement","internalValueChangeFlag","textInput","mutationObserver","createObserver","updateItems","resizeObserver","setMaxScrollerHeight","refreshSelectionDisplay","guid","inputHeight","ignoreSelectedEventsFlag","openTransitionProp","setFilteredPlacements","el","flipPlacements","filteredFlipPlacements","filterComputedPlacements","getValue","items","selectedItems","map","item","_item$value","value","toString","length","onLabelClick","setFocus","keyDownHandler","event","activeChipIndex","activeItemIndex","allowCustomValues","text","addCustomChip","preventDefault","open","clearInputValue","filterItems","updateActiveItemIndex","previousChip","nextChip","shiftActiveItemIndex","comboboxInViewport","scrollIntoView","ensureRecentSelectedItemIsActive","scrollToActiveItem","filteredItems","clearDisabled","clearValue","toggleSelection","removeActiveChip","defaultPrevented","submitForm","isMulti","removeLastChip","toggleCloseEnd","removeEventListener","toggleOpenEnd","async","listContainerEl","referenceEl","reposition","maxScrollerHeight","getMaxScrollerHeight","style","maxHeight","concat","minWidth","clientWidth","calciteChipCloseHandler","comboboxItem","selection","find","emit","clickHandler","composedPath","some","node","tagName","_node$classList","classList","contains","componentLoaded","isSingleLike","selectionMode","allSelectedIndicatorChipEl","chipContainerEl","selectionDisplay","placeholder","selectedIndicatorChipEl","chipContainerElGap","parseInt","getComputedStyle","gap","replace","chipContainerElWidth","getElementWidth","fontSize","fontFamily","inputWidth","getTextWidth","allSelectedIndicatorChipElWidth","selectedIndicatorChipElWidth","largestSelectedIndicatorChipWidth","Math","max","setCompactSelectionDisplay","chipEls","Array","from","shadowRoot","querySelectorAll","filter","chipEl","closable","availableHorizontalChipElSpace","round","selectedHiddenChipsCount","refreshChipDisplay","setVisibleAndHiddenChips","setFloatingEl","floatingEl","connectFloatingUI","setContainerEl","observe","transitionEl","setChipContainerEl","setReferenceEl","setAllSelectedIndicatorChipEl","setSelectedIndicatorChipEl","inputHandler","target","filteredData","_ref2","ComboboxItemGroup","textLabel","debounce","data","getItemsAndGroups","forEach","hidden","parent","grandparent","ancestors","ancestor","getFilteredItems","internalComboboxChangeEvent","emitComboboxChange","getSelectedItems","match","_ref3","selected","hasActiveChildren","sort","a","b","aIdx","indexOf","bIdx","getItems","groupItems","getGroupItems","getData","needsIcon","getNeedsIcon","groupItem","index","afterEmptyGroup","nextGroupItem","children","activeItem","height","calculateSingleItemHeight","offsetHeight","scrollTop","offsetTop","comboboxFocusHandler","_this$textInput","focus","form","undefined","placeholderIcon","placeholderIconFlipRtl","maxItems","name","overlayPositioning","required","messages","messageOverrides","activeDescendant","compactSelectionDisplay","selectedVisibleChipsCount","effectiveLocale","defaultMessages","openHandler","onToggleOpenCloseComponent","handleDisabledChange","maxItemsHandler","overlayPositioningHandler","handlePropsChange","valueHandler","isArray","includes","onMessagesChange","flipPlacementsHandler","selectedItemsHandler","documentClickHandler","isPrimaryPointerButton","trim","calciteComboboxItemChangeHandler","newIndex","delayed","arguments","_this$textInput2","componentFocusable","connectedCallback","_this$mutationObserve","connectInteractive","connectLocalized","connectMessages","connectLabel","connectForm","childList","subtree","componentWillLoad","setUpLoadableComponent","setUpMessages","componentDidLoad","afterConnectDefaultValueSet","setComponentLoaded","componentDidRender","updateHostInteraction","componentDidUpdate","disconnectedCallback","_this$mutationObserve2","_this$resizeObserver","disconnect","disconnectInteractive","disconnectLabel","disconnectForm","disconnectFloatingUI","disconnectLocalized","disconnectMessages","textHandler","effectiveLocaleChange","updateMessages","resetText","bounding","getBoundingClientRect","top","left","right","window","innerWidth","document","documentElement","bottom","innerHeight","clientHeight","onBeforeOpen","onOpen","onBeforeClose","onClose","targetIndex","hideChip","add","CSS$1","chipInvisible","showChip","remove","_ref4","chipElWidth","_ref5","newCompactBreakpoint","maxCompactBreakpoint","newSelectedVisibleChipsCount","newSelectedHiddenChipsCount","itemsToProcess","ComboboxChildSelector","child","updateAncestors","getItemAncestors","getItemChildren","filterDisabled","ComboboxItem","existingItem","createElement","appendChild","active","focusChip","last","_this$selectedItems$t","chip","querySelector","delta","i","isAllSelected","renderChips","chipClasses","pathLabel","reverse","join","iconFlipRtl","id","dismissLabel","removeTag","onCalciteChipClose","title","renderAllSelectedIndicatorChip","allSelected","renderAllSelectedIndicatorChipCompact","all","renderSelectedIndicatorChip","selectedItemsCount","renderSelectedIndicatorChipCompact","renderInput","single","selectedItem","showLabel","getLabelText","input","onFocus","onInput","renderListBoxOptions","toAriaBoolean","role","tabindex","renderFloatingUIContainer","classes","listContainer","FloatingCSS","animation","animationActive","list","renderIconStart","selectedIcon","singleSelectionMode","flipRtl","renderIconEnd","render","_this$value","allSelectionDisplay","singleSelectionDisplay","fitSelectionDisplay","isClearable","Host","wrapper","onKeyDown","selectionDisplayFit","selectionDisplaySingle","htmlFor","clear","HiddenFormInputSlot","component","assetsDirs","watchers","defineCustomElement","customElements","get","define","defineCustomElement$2","defineCustomElement$1","getAncestors","element","_element$parentElemen","_parent$parentElement","parentElement","closest","_item$ancestors","nodeName","nodeListToArray","getDepth","Build","isBrowser","evaluate","XPathResult","UNORDERED_NODE_SNAPSHOT_TYPE","snapshotLength"],"sourceRoot":""}