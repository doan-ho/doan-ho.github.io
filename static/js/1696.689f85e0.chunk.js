/*! For license information please see 1696.689f85e0.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkarcgis_web=self.webpackChunkarcgis_web||[]).push([[1696],{55950:(e,t,i)=>{i.d(t,{F:()=>v,d:()=>p});var s=i(51554),l=i(59100),n=i(13160),a=i(47242),c=i(46895),r=i(52655),o=i(57601),d=i(38906),u=i(87138),h=i(76652);const f="container",m="search",v=(0,s.GH)(class extends s.mv{constructor(){var e;super(),e=this,this.__registerHost(),this.__attachShadow(),this.calciteFilterChange=(0,s.yM)(this,"calciteFilterChange",6),this.filterDebounced=(0,h.d)((function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2?arguments[2]:void 0;return e.updateFiltered((0,l.f)(e.items,t),i,s)}),250),this.inputHandler=e=>{const t=e.target;this.value=t.value,this.filterDebounced(t.value,!0)},this.keyDownHandler=e=>{"Escape"===e.key&&(this.clear(),e.preventDefault()),"Enter"===e.key&&e.preventDefault()},this.clear=()=>{this.value="",this.filterDebounced("",!0),this.setFocus()},this.items=[],this.disabled=!1,this.filteredItems=[],this.placeholder=void 0,this.scale="m",this.value="",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}watchItemsHandler(){this.filterDebounced(this.value)}onMessagesChange(){}valueHandler(e){this.filterDebounced(e)}effectiveLocaleChange(){(0,r.u)(this,this.effectiveLocale)}async componentWillLoad(){(0,a.a)(this),this.updateFiltered((0,l.f)(this.items,this.value)),await(0,r.s)(this)}connectedCallback(){(0,n.c)(this),(0,c.c)(this),(0,r.c)(this)}componentDidRender(){(0,n.u)(this)}disconnectedCallback(){(0,n.d)(this),(0,c.d)(this),(0,r.d)(this),this.filterDebounced.cancel()}componentDidLoad(){(0,a.s)(this)}async filter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value;return new Promise((t=>{this.value=e,this.filterDebounced(e,!1,t)}))}async setFocus(){var e;await(0,a.c)(this),null===(e=this.el)||void 0===e||e.focus()}updateFiltered(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;this.filteredItems=e,t&&this.calciteFilterChange.emit(),null===i||void 0===i||i()}render(){const{disabled:e,scale:t}=this;return(0,s.h)(s.HY,null,(0,s.h)("div",{class:f},(0,s.h)("label",null,(0,s.h)("calcite-input",{clearable:!0,disabled:e,icon:m,label:this.messages.label,messageOverrides:{clear:this.messages.clear},onCalciteInputInput:this.inputHandler,onKeyDown:this.keyDownHandler,placeholder:this.placeholder,scale:t,type:"text",value:this.value,ref:e=>{this.textInput=e}}))))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{items:["watchItemsHandler"],messageOverrides:["onMessagesChange"],value:["valueHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return":host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{display:flex;inline-size:100%;padding:0.5rem}label{position:relative;margin-inline:0.25rem;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}input[type=text]{margin-block-end:0.25rem;inline-size:100%;border-style:none;background-color:transparent;padding-block:0.25rem;font-family:inherit;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-ui-text-1);padding-inline-end:0.25rem;padding-inline-start:1.5rem;transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing)}input[type=text]::-ms-clear{display:none}calcite-input{inline-size:100%}.search-icon{position:absolute;display:flex;color:var(--calcite-ui-text-2);inset-inline-start:0;transition:inset-inline-start var(--calcite-animation-timing), inset-inline-end var(--calcite-animation-timing), opacity var(--calcite-animation-timing)}input[type=text]:focus{border-color:var(--calcite-ui-brand);outline:2px solid transparent;outline-offset:2px;padding-inline:0.25rem}input[type=text]:focus~.search-icon{inset-inline-start:calc(1rem * -1);opacity:0}.clear-button{display:flex;cursor:pointer;align-items:center;border-width:0px;background-color:transparent;color:var(--calcite-ui-text-2)}.clear-button:hover,.clear-button:focus{color:var(--calcite-ui-text-1)}:host([hidden]){display:none}[hidden]{display:none}"}},[17,"calcite-filter",{items:[16],disabled:[516],filteredItems:[1040],placeholder:[1],scale:[513],value:[1025],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],filter:[64],setFocus:[64]}]);function p(){if("undefined"===typeof customElements)return;["calcite-filter","calcite-icon","calcite-input","calcite-progress"].forEach((e=>{switch(e){case"calcite-filter":customElements.get(e)||customElements.define(e,v);break;case"calcite-icon":customElements.get(e)||(0,o.d)();break;case"calcite-input":customElements.get(e)||(0,d.d)();break;case"calcite-progress":customElements.get(e)||(0,u.d)()}}))}p()},99095:(e,t,i)=>{i.d(t,{C:()=>s,I:()=>l,S:()=>n});const s={sticky:"sticky-pos"};var l;!function(e){e.circle="circle",e.square="square",e.grip="grip"}(l||(l={}));const n={menuActions:"menu-actions"}},32484:(e,t,i)=>{i.d(t,{C:()=>s,S:()=>l});const s={heading:"heading",container:"container",indented:"container--indented"},l={parentItem:"parent-item"}},20348:(e,t,i)=>{i.d(t,{L:()=>P,a:()=>L,b:()=>H,c:()=>h,d:()=>D,e:()=>f,f:()=>z,g:()=>O,h:()=>V,i:()=>u,j:()=>m,k:()=>g,l:()=>v,m:()=>o,n:()=>p,o:()=>I,p:()=>C,q:()=>y,r:()=>k,s:()=>S,t:()=>b});var s=i(20226),l=i(92358),n=i(32484),a=i(76652),c=i(51554),r=i(99095);function o(){this.setUpItems(),this.setUpFilter(),this.deselectRemovedItems()}const d=["ArrowUp","ArrowDown"];function u(){this.setUpItems(),this.setUpFilter(),this.emitCalciteListChange=(0,a.d)(F.bind(this),0),this.emitCalciteListFilter=(0,a.d)(E.bind(this),0)}function h(){var e;null===(e=this.mutationObserver)||void 0===e||e.observe(this.el,{childList:!0,subtree:!0})}function f(){var e;null===(e=this.mutationObserver)||void 0===e||e.disconnect()}function m(e){const{selectedValues:t}=this,{item:i,value:s,selected:n,shiftPressed:a}=e.detail;n?(this.multiple&&a&&this.selectSiblings(i),this.multiple||this.deselectSiblingItems(i),t.set(s,i)):(t.delete(s),this.multiple&&a&&this.selectSiblings(i,!0)),this.multiple||(w(i,n),n&&(0,l.k)(i)),this.lastSelectedItem=i,this.emitCalciteListChange()}function v(e){const t=e.detail.oldValue,i=this.selectedValues;if(i.has(t)){const s=i.get(t);i.delete(t),i.set(e.detail.newValue,s)}e.stopPropagation()}function p(e){const{el:t,items:i,multiple:s,selectedValues:l}=this;if(s)return;t.contains(e.relatedTarget)||x(i).forEach((t=>{w(t,0===l.size?t.contains(e.target)||e.target===t:t.selected)}))}function g(e){const{key:t,target:i}=e;if(!function(e){return!!d.find((t=>t===e))}(t))return;const{items:s,multiple:n,selectionFollowsFocus:a}=this,{length:c}=s,r=s.indexOf(i);if(!c||-1===r)return;e.preventDefault();const o=s[b(this,i,"ArrowUp"===t?"up":"down")];s.forEach((e=>w(e,e===o))),!n&&a&&(o.selected=!0),(0,l.k)(o)}function b(e,t,i){const{items:l}=e,{length:n}=l,a=l.indexOf(t),c="up"===i?-1:1;let r=1,o=(0,s.g)(a+c*r++,n);const d=o;for(;l[o].disabled&&(o=(0,s.g)(a+c*r++,n),o!==d););return o}function y(e,t){const{items:i}=e;return i.indexOf(t)}function x(e){return e.filter((e=>!e.disabled))}function E(){this.calciteListFilter.emit()}function F(){this.calciteListChange.emit(this.selectedValues)}function k(e){if(e.defaultPrevented)return;const t=e.target,i=this.selectedValues;"CALCITE-PICK-LIST-GROUP"===t.parentElement.tagName&&t.slot===n.S.parentItem?(t.parentElement.remove(),Array.from(t.parentElement.children).forEach((e=>i.delete(e.value)))):(t.remove(),i.delete(t.value)),this.emitCalciteListChange()}function w(e,t){e.disabled||(t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1"))}async function C(e){if(this.filterEnabled&&"filter"===e)return void await(0,l.k)(this.filterEl);const{items:t,multiple:i,selectionFollowsFocus:s}=this;if(0===t.length)return;var n;if(i)return null===(n=x(t)[0])||void 0===n?void 0:n.setFocus();const a=x(t),c=a.find((e=>e.selected))||a[0];return s&&c&&(c.selected=!0),c.setFocus()}function I(e){this.items=Array.from(this.el.querySelectorAll(e));let t=!1;const{items:i}=this;i.forEach((e=>{e.icon=this.getIconType(),this.multiple||(e.deselectDisabled=!0,w(e,!1)),e.selected&&(t=!0,w(e,!0),this.selectedValues.set(e.value,e))}));const[s]=i;t||!s||s.disabled||w(s,!0)}function D(){const e=this.selectedValues,t=this.items.map((e=>{let{value:t}=e;return t}));e.forEach((e=>{t.includes(e.value)||this.selectedValues.delete(e.value)}))}function L(e){this.items.forEach((t=>{t.value!==e.value&&(t.toggleSelected(!1),this.selectedValues.has(t.value)&&this.selectedValues.delete(t.value))}))}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.lastSelectedItem)return;const{items:i}=this,s=i.findIndex((e=>e.value===this.lastSelectedItem.value)),l=i.findIndex((t=>t.value===e.value));i.slice(Math.min(s,l),Math.max(s,l)).forEach((e=>{e.toggleSelected(!t),t?this.selectedValues.delete(e.value):this.selectedValues.set(e.value,e)}))}let A;function V(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{filteredData:i,filterText:s}=this,n=i.map((e=>e.value));let a=!1;A||(A=new Set);const c=(null===(e=this.items)||void 0===e?void 0:e.filter((e=>{const t=e.parentElement;t.matches("calcite-pick-list-group")&&A.add(t);const i=!s||n.includes(e.value);return e.hidden=!i,a||(a=i&&e.selected),i})))||[];A.forEach((e=>{const t=c.some((t=>e.contains(t)));if(e.hidden=!t,!t)return;const i=(0,l.g)(e,"parent-item");i&&(i.hidden=!1,c.includes(i)&&Array.from(e.children).forEach((e=>e.hidden=!1)))})),A.clear(),c.length>0&&!a&&!this.multiple&&w(c[0],!0),this.setFilteredItems(c),t&&this.emitCalciteListFilter()}function z(){var e;const t=null===(e=this.filterEl)||void 0===e?void 0:e.filteredItems;t&&(this.filteredData=t),this.handleFilter()}function H(e){e.stopPropagation();const{filteredItems:t,value:i}=e.currentTarget;this.filterText=i,this.filteredData=t,this.handleFilter(!0)}function O(){return this.items.map((e=>({label:e.label,description:e.description,metadata:e.metadata,value:e.value})))}const P=e=>{let{props:{disabled:t,loading:i,filterEnabled:s,dataForFilter:n,handleFilterEvent:a,filterPlaceholder:o,filterText:d,setFilterEl:u,dragEnabled:h,storeAssistiveEl:f},...m}=e;const v=(0,c.h)("slot",null);return(0,c.h)(c.AA,{"aria-busy":(0,l.t)(i),role:"menu",...m},(0,c.h)("section",null,h?(0,c.h)("span",{"aria-live":"assertive",class:"assistive-text",ref:f}):null,(0,c.h)("header",{class:{[r.C.sticky]:!0}},s?(0,c.h)("calcite-filter",{"aria-label":o,disabled:i||t,items:n,onCalciteFilterChange:a,placeholder:o,value:d,ref:u}):null,(0,c.h)("slot",{name:r.S.menuActions})),i?(0,c.h)("calcite-scrim",{loading:i}):null,v))}}}]);
//# sourceMappingURL=1696.689f85e0.chunk.js.map